<!DOCTYPE html>
<html lang="uz" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#16a34a">
    <title>GreenMarket - Yashil Kelajak Uchun Raqamli Platforma</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Verdant Calm -->
    <!-- Application Structure Plan: Loyiha endi yagona sahifali, uzluksiz o'rama (scroll) tuzilma asosida ishlaydi. Navigatsiya paneli foydalanuvchini sahifaning turli bo'limlariga silliq olib o'tadi, bu esa loyiha ma'lumotlarini ham ketma-ket, ham tanlab o'rganishga imkon beradi. Bu yondashuv ma'lumotni turlarga ajratish va navigatsiya qulayligini oshirish uchun tanlandi. -->
    <!-- Visualization & Content Choices: Loyihaning vizual jozibadorligini oshirish uchun keng miqyosda Unicode ikonkalari qo'llanildi. Ma'lumotlarni interaktiv ko'rsatish uchun Chart.js ishlatilgan bo'lib, CO‚ÇÇ kalkulyatori loyihaning amaliy ta'sirini ko'rsatish uchun mo'ljallangan. AI Maslahatchi bo'limi Gemini API orqali ishlaydi, bu esa loyihaning innovatsion tomonini namoyish etadi. Barcha ma'lumotlar foydalanuvchi uchun qulay formatda, hech qanday SVG yoki Mermaid grafikalaridan foydalanilmagan holda taqdim etilgan. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        /* Screen reader only class */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0fdf4;
            color: #3f3f46;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 640px) {
            .chart-container {
                height: 350px;
            }
        }

        .stat-card {
            background-color: #ffffff;
            border: 1px solid #dcfce7;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .nav-link.active {
            color: #16a34a;
            font-weight: 600;
        }

        .nav-link {
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: #16a34a;
        }

        /* O'ng tomondan ochiladigan menyu */
        #mobile-menu {
            transition: transform 0.3s ease-in-out;
            background-color: #ffffff !important;
            opacity: 1 !important;
            transform: translateX(100%);
            pointer-events: none;
            visibility: hidden;
        }

        #mobile-menu.active {
            transform: translateX(0) !important;
            pointer-events: auto;
            visibility: visible;
        }

        #menu-overlay.active {
            display: block;
        }

        /* Mobil moslashuvchanlik uchun qo'shimcha stillar */

        /* Cart modal mobil qurilmalarda to'liq ekran */
        @media (max-width: 768px) {
            .cart-modal {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                width: 100% !important;
                height: 100% !important;
                max-width: 100% !important;
                max-height: 100% !important;
                margin: 0 !important;
                border-radius: 0 !important;
                z-index: 9999;
            }

            .cart-modal-content {
                height: 100%;
                display: flex;
                flex-direction: column;
            }

            .cart-modal-body {
                flex: 1;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            /* Checkout form mobil uchun optimallashtirilgan */
            .checkout-form {
                width: 100% !important;
                max-width: 100% !important;
                padding: 1rem !important;
            }

            .checkout-form input[type="tel"] {
                font-size: 16px;
                /* iOS zoom oldini olish uchun */
            }

            .checkout-form input[type="email"] {
                font-size: 16px;
            }

            /* Mahsulot grid mobil uchun */
            .product-grid {
                grid-template-columns: 1fr !important;
            }

            /* Touch-friendly tugmalar */
            button,
            .btn,
            a.btn {
                min-height: 44px;
                /* Apple'ning tavsiya etgan minimal touch target */
                min-width: 44px;
                padding: 12px 16px;
            }

            /* Mobil to'lov usullari */
            .payment-methods-mobile {
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            .payment-method-option {
                padding: 16px;
                border: 2px solid #dcfce7;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s;
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .payment-method-option:active {
                transform: scale(0.98);
                background-color: #f0fdf4;
            }

            .payment-method-option.selected {
                border-color: #16a34a;
                background-color: #f0fdf4;
            }

            /* Modal overlay mobil uchun */
            .modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 9998;
            }
        }

        /* Tablet va katta ekranlar uchun */
        @media (min-width: 769px) {
            .cart-modal {
                max-width: 600px;
                max-height: 80vh;
                margin: 5vh auto;
                border-radius: 12px;
            }

            .payment-methods-mobile {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
        }

        /* Kichik mobil qurilmalar uchun (< 375px) */
        @media (max-width: 374px) {
            body {
                font-size: 14px;
            }

            h1 {
                font-size: 1.5rem !important;
            }

            h2 {
                font-size: 1.25rem !important;
            }

            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }

        /* Landscape mode mobil uchun */
        @media (max-width: 768px) and (orientation: landscape) {
            .cart-modal {
                overflow-y: auto;
            }

            .checkout-form {
                padding: 0.5rem !important;
            }
        }

        /* Touch feedback */
        @media (hover: none) and (pointer: coarse) {

            button:active,
            .btn:active,
            a.btn:active {
                opacity: 0.7;
            }

            .stat-card:active {
                transform: scale(0.98);
            }
        }

        /* Til tanlash tugmalari - Radio style */
        .radio-input {
            background-color: #fff;
            padding: 8px 12px;
            border-radius: 20px;
            display: flex;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
        }

        .radio-input input[type="radio"] {
            display: none;
        }

        .radio-input input[type="radio"]+label {
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 12px;
        }

        .radio-input input[type="radio"]+label span {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            margin: 0 2px;
            vertical-align: middle;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid #ffffff;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.33);
            background-color: #b0b0b0;
            color: white;
            font-weight: bold;
            font-size: 11px;
            transition: all 0.3s ease;
        }

        .radio-input input[type="radio"]:checked+label span {
            background-color: #16a34a;
            transform: scale(1.1);
        }

        .radio-input input[type="radio"]+label span:hover {
            transform: scale(1.05);
        }

        /* Menu animatsiyalari */
        #mobile-menu {
            background: linear-gradient(180deg, #ffffff 0%, #f0fdf4 50%, #dcfce7 100%) !important;
        }

        #mobile-menu .nav-link {
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #mobile-menu .nav-link::before {
            content: '';
            position: absolute;
            left: -100%;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(22, 163, 74, 0.2), transparent);
            transition: left 0.5s ease;
        }

        #mobile-menu .nav-link:hover::before {
            left: 100%;
        }

        #mobile-menu .nav-link:hover {
            background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
            transform: translateX(8px) scale(1.02);
            box-shadow: 0 4px 12px rgba(22, 163, 74, 0.15);
            border-left: 4px solid #16a34a;
        }

        #mobile-menu .nav-link span {
            display: inline-block;
            transition: transform 0.3s ease;
        }

        #mobile-menu .nav-link:hover span {
            transform: scale(1.2) rotate(10deg);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        #mobile-menu.active .nav-link {
            animation: slideInRight 0.4s ease forwards;
        }

        #mobile-menu.active .nav-link:nth-child(1) {
            animation-delay: 0.05s;
        }

        #mobile-menu.active .nav-link:nth-child(2) {
            animation-delay: 0.1s;
        }

        #mobile-menu.active .nav-link:nth-child(3) {
            animation-delay: 0.15s;
        }

        #mobile-menu.active .nav-link:nth-child(4) {
            animation-delay: 0.2s;
        }

        #mobile-menu.active .nav-link:nth-child(5) {
            animation-delay: 0.25s;
        }

        #mobile-menu.active .nav-link:nth-child(6) {
            animation-delay: 0.3s;
        }

        #mobile-menu.active .nav-link:nth-child(7) {
            animation-delay: 0.35s;
        }

        #mobile-menu.active .nav-link:nth-child(8) {
            animation-delay: 0.4s;
        }

        #mobile-menu.active .nav-link:nth-child(9) {
            animation-delay: 0.45s;
        }

        #mobile-menu.active .nav-link:nth-child(10) {
            animation-delay: 0.5s;
        }

        #mobile-menu.active .nav-link:nth-child(11) {
            animation-delay: 0.55s;
        }

        #mobile-menu.active .nav-link:nth-child(12) {
            animation-delay: 0.6s;
        }

        #mobile-menu.active .nav-link:nth-child(13) {
            animation-delay: 0.65s;
        }

        #mobile-menu.active .nav-link:nth-child(14) {
            animation-delay: 0.7s;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .animate-shimmer {
            animation: shimmer 3s infinite;
        }

        /* Tushayotgan barglar */
        .leaf {
            position: absolute;
            font-size: 24px;
            animation: fall linear infinite;
            opacity: 0.7;
            z-index: 1;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 0.7;
            }

            90% {
                opacity: 0.7;
            }

            100% {
                transform: translateY(calc(100vh + 100px)) rotate(360deg);
                opacity: 0;
            }
        }

        .leaf:nth-child(1) {
            left: 10%;
            animation-duration: 8s;
            animation-delay: 0s;
        }

        .leaf:nth-child(2) {
            left: 25%;
            animation-duration: 10s;
            animation-delay: 2s;
            font-size: 20px;
        }

        .leaf:nth-child(3) {
            left: 45%;
            animation-duration: 12s;
            animation-delay: 4s;
            font-size: 28px;
        }

        .leaf:nth-child(4) {
            left: 65%;
            animation-duration: 9s;
            animation-delay: 1s;
            font-size: 22px;
        }

        .leaf:nth-child(5) {
            left: 85%;
            animation-duration: 11s;
            animation-delay: 3s;
            font-size: 26px;
        }
    </style>
</head>

<body class="scroll-smooth">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-200">
        <div class="container mx-auto px-8 py-6 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-green-700">GreenMarket</h1>
            <!-- Desktop navigatsiya yashirildi, faqat hamburger menyu ishlatiladi -->
            <div class="flex items-center gap-3">
                <!-- Til tugmalari -->
                <div class="radio-input">
                    <input type="radio" id="lang-uz" name="language" value="uz" checked onchange="changeLanguage('uz')">
                    <label for="lang-uz"><span>UZ</span></label>

                    <input type="radio" id="lang-ru" name="language" value="ru" onchange="changeLanguage('ru')">
                    <label for="lang-ru"><span>RU</span></label>

                    <input type="radio" id="lang-en" name="language" value="en" onchange="changeLanguage('en')">
                    <label for="lang-en"><span>EN</span></label>
                </div>
                <button id="cart-icon-btn"
                    class="relative p-2 rounded-md hover:bg-green-50 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500"
                    aria-label="Savatni ochish" aria-describedby="cart-badge">
                    <span class="text-2xl" aria-hidden="true">üõí</span>
                    <span id="cart-badge"
                        class="absolute -top-1 -right-1 bg-green-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center hidden"
                        role="status" aria-live="polite">0</span>
                </button>
                <button id="mobile-menu-btn"
                    class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 hover:bg-green-50"
                    aria-label="Menyuni ochish" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="block w-6 h-0.5 bg-slate-600 transition-all duration-300" aria-hidden="true"></span>
                    <span class="block w-6 h-0.5 bg-slate-600 mt-1.5 transition-all duration-300"
                        aria-hidden="true"></span>
                    <span class="block w-6 h-0.5 bg-slate-600 mt-1.5 transition-all duration-300"
                        aria-hidden="true"></span>
                </button>
            </div>
        </div>
        <!-- Menyu orqa foni (overlay) -->
        <div id="menu-overlay" class="fixed inset-0 bg-black/40 z-[9998] hidden" onclick="closeMenu()"></div>

        <!-- Chiroyli o'ng menyu -->
        <div id="mobile-menu"
            class="fixed top-0 right-0 h-full w-64 z-[9999] transform translate-x-full transition-transform duration-300 shadow-xl"
            style="background: linear-gradient(180deg, #ffffff 0%, #f0fdf4 100%);" role="dialog" aria-modal="true"
            aria-label="Menyu">
            <!-- Menyu boshi -->
            <div
                class="p-4 bg-gradient-to-r from-green-600 via-green-500 to-emerald-600 text-white flex justify-end items-center relative overflow-hidden">
                <div
                    class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer">
                </div>
                <button id="close-menu-btn"
                    class="p-2 hover:bg-white/20 rounded-full transition-all duration-300 hover:rotate-90 hover:scale-110 z-10"
                    aria-label="Yopish">
                    <span class="text-2xl font-bold">‚úï</span>
                </button>
            </div>
            <!-- Suzuvchi baliqlar -->
            <div class="absolute inset-0 pointer-events-none overflow-hidden">
                <div class="fish">üêü</div>
                <div class="fish">üê†</div>
                <div class="fish">üê°</div>
                <div class="fish">ü¶à</div>
                <div class="fish">üê¨</div>
            </div>

            <!-- Menyu linklarƒ± -->
            <nav class="p-3 overflow-y-auto relative z-10" style="max-height: calc(100vh - 120px);" role="navigation">
                <a href="#home"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üè†</span> <span data-i18n="nav.home">Bosh sahifa</span></a>
                <a href="#green-shop"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üåø</span> <span data-i18n="nav.greenShop">Yashil Do'kon</span></a>
                <a href="#kitchen-garden"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üç≥</span> <span data-i18n="nav.kitchenGarden">Oshxona Bog'i</span></a>
                <a href="#catalog"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üì¶</span> <span data-i18n="nav.catalog">Katalog</span></a>
                <a href="#seasonal-tips"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üóìÔ∏è</span> <span data-i18n="nav.seasonal">Mavsumiy</span></a>
                <a href="#neighborhood-rating"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>‚≠ê</span> <span data-i18n="nav.rating">Reyting</span></a>
                <a href="#green-credit"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üí≥</span> <span data-i18n="nav.credit">Kredit</span></a>
                <a href="#green-news"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üì∞</span> <span data-i18n="nav.news">Yangiliklar</span></a>
                <a href="#how-it-works"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>‚ùì</span> <span data-i18n="nav.howItWorks">Qanday ishlaydi</span></a>
                <a href="#ai-advisor"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>ü§ñ</span> <span data-i18n="nav.aiAdvisor">AI Maslahatchi</span></a>
                <a href="#orders"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üìã</span> <span data-i18n="nav.orders">Buyurtmalar</span></a>
                <a href="#contact"
                    class="nav-link flex items-center gap-3 py-3 px-3 rounded-lg text-slate-700 hover:bg-green-100 transition-colors mb-1"
                    onclick="closeMenu()"><span>üìû</span> <span data-i18n="nav.contact">Aloqa</span></a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-6">

        <!-- Bosh sahifa -->
        <section id="home" class="py-8 md:py-16">
            <!-- Rasm Slider (Slide Show) -->
            <div class="relative w-full max-w-6xl mx-auto mb-10 rounded-2xl overflow-hidden shadow-2xl bg-green-50">
                <div id="slider" class="relative h-80 md:h-[500px] overflow-hidden">
                    <div id="slider-track" class="flex transition-transform duration-500 ease-in-out h-full">
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/1.png"
                                alt="Slide 1" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/2.png"
                                alt="Slide 2" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/3.png"
                                alt="Slide 3" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/4.png"
                                alt="Slide 4" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/5.png"
                                alt="Slide 5" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/6.png"
                                alt="Slide 6" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/7.png"
                                alt="Slide 7" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/8.png"
                                alt="Slide 8" class="max-w-full max-h-full object-contain"></div>
                        <div class="min-w-full h-full flex items-center justify-center p-4"><img src="images/9.png"
                                alt="Slide 9" class="max-w-full max-h-full object-contain"></div>
                    </div>
                </div>

                <!-- Slider indikatorlari -->
                <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2" role="tablist" aria-label="Slider navigation">
                    <button onclick="goToSlide(0)" aria-label="Go to slide 1"
                        class="slider-dot w-3 h-3 rounded-full bg-white/80 hover:bg-white transition-all" role="tab" aria-selected="true"></button>
                    <button onclick="goToSlide(1)" aria-label="Go to slide 2"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(2)" aria-label="Go to slide 3"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(3)" aria-label="Go to slide 4"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(4)" aria-label="Go to slide 5"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(5)" aria-label="Go to slide 6"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(6)" aria-label="Go to slide 7"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(7)" aria-label="Go to slide 8"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                    <button onclick="goToSlide(8)" aria-label="Go to slide 9"
                        class="slider-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all" role="tab" aria-selected="false"></button>
                </div>
            </div>

            <div class="text-center py-6 md:py-10">
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-800 leading-tight" data-i18n="hero.title">
                    Yashil kelajakni bugundan boshlab birga quramiz.
                </h1>
                <p class="mt-6 max-w-2xl mx-auto text-lg text-slate-500" data-i18n="hero.subtitle">
                    GreenMarket - bu daraxt ekishni osonlashtiruvchi, tabiatga o'z hissangizni qo'shishga yordam
                    beruvchi va ekologik mas'uliyatni rag'batlantiruvchi raqamli platforma.
                </p>
                <div class="mt-10">
                    <a href="#catalog"
                        class="bg-green-700 text-white font-bold px-8 py-4 rounded-lg text-lg hover:bg-green-800 transition-colors shadow-lg shadow-green-700/20"
                        data-i18n="hero.viewProducts">Mahsulotlarni ko'rish</a>
                </div>
            </div>
        </section>

        <!-- Yashil Do'kon sahifasi -->
        <section id="green-shop" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="greenShop.title">Yashil Do'kon üåø
                </h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="greenShop.subtitle">Tabiatga g'amxo'rlik
                    qilish uchun barcha kerakli narsalar bir joyda</p>
            </div>
            <!-- Daraxtlar bo'limi -->
            <div class="mt-8 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6" data-i18n="greenShop.trees">üå≥ Daraxtlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/olma1.jpg" alt="Olma daraxti" class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">üçé
                        </div>
                        <h4 class="font-bold mb-2" data-i18n="greenShop.appleTree">Olma daraxti</h4>
                        <p class="text-sm text-slate-600 mb-2" data-i18n="greenShop.appleDesc">Mevali daraxt, yuqori
                            hosil</p>
                        <p class="text-green-700 font-bold text-lg mb-2">50,000 <span data-i18n="common.sum">so'm</span>
                        </p>
                        <button class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700"
                            data-i18n="greenShop.addToCart">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/nok.jpg" alt="Nok daraxti" class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">üçê
                        </div>
                        <h4 class="font-bold mb-2">Nok daraxti</h4>
                        <p class="text-sm text-slate-600 mb-2">Shirin mevali daraxt</p>
                        <p class="text-green-700 font-bold text-lg mb-2">40,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/orik.jpg" alt="O'rik daraxti" class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">ÔøΩ
                        </div>
                        <h4 class="font-bold mb-2">O'rik daraxti</h4>
                        <p class="text-sm text-slate-600 mb-2">Mazali mevali daraxt</p>
                        <p class="text-green-700 font-bold text-lg mb-2">30,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/gilos.jpg" alt="Gilos daraxti" class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">üçí
                        </div>
                        <h4 class="font-bold mb-2">Gilos daraxti</h4>
                        <p class="text-sm text-slate-600 mb-2">Mazali mevali daraxt</p>
                        <p class="text-green-700 font-bold text-lg mb-2">30,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>

            <!-- Ko'chatlar bo'limi -->
            <div class="mt-12 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6" data-i18n="greenShop.seedlings">üå± Ko'chatlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/pomidor-kochati.jpg" alt="Pomidor ko'chati"
                            class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">üå±
                        </div>
                        <h4 class="font-bold mb-2">Pomidor ko'chati</h4>
                        <p class="text-sm text-slate-600 mb-2">Yuqori hosilli nav</p>
                        <p class="text-green-700 font-bold text-lg mb-2">5,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <img src="images/bodring-kochati.jpg" alt="Bodring ko'chati"
                            class="w-full h-40 object-cover rounded-lg mb-3"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 items-center justify-center text-5xl hidden">üåø
                        </div>
                        <h4 class="font-bold mb-2">Bodring ko'chati</h4>
                        <p class="text-sm text-slate-600 mb-2">Tez o'sadigan</p>
                        <p class="text-green-700 font-bold text-lg mb-2">4,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üå±
                        </div>
                        <h4 class="font-bold mb-2">Qalampir ko'chati</h4>
                        <p class="text-sm text-slate-600 mb-2">Shirin qalampir</p>
                        <p class="text-green-700 font-bold text-lg mb-2">6,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üåø
                        </div>
                        <h4 class="font-bold mb-2">Baqlajon ko'chati</h4>
                        <p class="text-sm text-slate-600 mb-2">Yirik mevali</p>
                        <p class="text-green-700 font-bold text-lg mb-2">5,500 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>

            <!-- Urug'lar bo'limi -->
            <div class="mt-12 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6">üåæ Urug'lar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üåæ
                        </div>
                        <h4 class="font-bold mb-2">Sabzi urug'i</h4>
                        <p class="text-sm text-slate-600 mb-2">Tez o'sadigan</p>
                        <p class="text-green-700 font-bold text-lg mb-2">3,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üåæ
                        </div>
                        <h4 class="font-bold mb-2">Piyoz urug'i</h4>
                        <p class="text-sm text-slate-600 mb-2">Yuqori hosilli</p>
                        <p class="text-green-700 font-bold text-lg mb-2">2,500 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üåæ
                        </div>
                        <h4 class="font-bold mb-2">Gul urug'i (aralash)</h4>
                        <p class="text-sm text-slate-600 mb-2">Rangli gullar</p>
                        <p class="text-green-700 font-bold text-lg mb-2">8,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üåæ
                        </div>
                        <h4 class="font-bold mb-2">Maysazor urug'i</h4>
                        <p class="text-sm text-slate-600 mb-2">Yashil maysazor</p>
                        <p class="text-green-700 font-bold text-lg mb-2">15,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>

            <!-- Idishlar bo'limi -->
            <div class="mt-12 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6">ü™¥ Idishlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">ü™¥
                        </div>
                        <h4 class="font-bold mb-2">Plastik idish (kichik)</h4>
                        <p class="text-sm text-slate-600 mb-2">15cm diametr</p>
                        <p class="text-green-700 font-bold text-lg mb-2">8,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">ü™¥
                        </div>
                        <h4 class="font-bold mb-2">Plastik idish (o'rta)</h4>
                        <p class="text-sm text-slate-600 mb-2">25cm diametr</p>
                        <p class="text-green-700 font-bold text-lg mb-2">15,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">ü™¥
                        </div>
                        <h4 class="font-bold mb-2">Sopol idish</h4>
                        <p class="text-sm text-slate-600 mb-2">Chiroyli dizayn</p>
                        <p class="text-green-700 font-bold text-lg mb-2">35,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">ü™¥
                        </div>
                        <h4 class="font-bold mb-2">Osilgan idish</h4>
                        <p class="text-sm text-slate-600 mb-2">Zanjir bilan</p>
                        <p class="text-green-700 font-bold text-lg mb-2">45,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>

            <!-- O'g'itlar bo'limi -->
            <div class="mt-12 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6">üß™ O'g'itlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üß™
                        </div>
                        <h4 class="font-bold mb-2">Organik o'g'it (1kg)</h4>
                        <p class="text-sm text-slate-600 mb-2">Tabiiy, xavfsiz</p>
                        <p class="text-green-700 font-bold text-lg mb-2">12,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üß™
                        </div>
                        <h4 class="font-bold mb-2">Mineral o'g'it (500g)</h4>
                        <p class="text-sm text-slate-600 mb-2">NPK kompleks</p>
                        <p class="text-green-700 font-bold text-lg mb-2">18,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üß™
                        </div>
                        <h4 class="font-bold mb-2">Suyuq o'g'it (1L)</h4>
                        <p class="text-sm text-slate-600 mb-2">Tez ta'sir qiluvchi</p>
                        <p class="text-green-700 font-bold text-lg mb-2">25,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üß™
                        </div>
                        <h4 class="font-bold mb-2">Kompost (5kg)</h4>
                        <p class="text-sm text-slate-600 mb-2">Tayyorlangan</p>
                        <p class="text-green-700 font-bold text-lg mb-2">20,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>

            <!-- Dekor bo'limi -->
            <div class="mt-12 max-w-6xl mx-auto">
                <h3 class="text-2xl font-bold text-slate-800 mb-6">üé® Dekor va Aksessuarlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üé®
                        </div>
                        <h4 class="font-bold mb-2">Dekorativ toshlar (1kg)</h4>
                        <p class="text-sm text-slate-600 mb-2">Rangli toshlar</p>
                        <p class="text-green-700 font-bold text-lg mb-2">10,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üè∑Ô∏è
                        </div>
                        <h4 class="font-bold mb-2">O'simlik yorliqlari (10ta)</h4>
                        <p class="text-sm text-slate-600 mb-2">Plastik yorliqlar</p>
                        <p class="text-green-700 font-bold text-lg mb-2">5,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">üíß
                        </div>
                        <h4 class="font-bold mb-2">Sug'orish idishi</h4>
                        <p class="text-sm text-slate-600 mb-2">2L sig'im</p>
                        <p class="text-green-700 font-bold text-lg mb-2">22,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                    <div class="stat-card p-4 rounded-xl border border-green-200">
                        <div class="bg-slate-100 h-40 rounded-lg mb-3 flex items-center justify-center text-5xl">‚úÇÔ∏è
                        </div>
                        <h4 class="font-bold mb-2">Bog' qaychi</h4>
                        <p class="text-sm text-slate-600 mb-2">O'tkir, ergonomik</p>
                        <p class="text-green-700 font-bold text-lg mb-2">35,000 so'm</p>
                        <button
                            class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Savatga</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mahsulotlar katalogi sahifasi -->
        <section id="catalog" class="py-16 md:py-24 bg-green-50 rounded-2xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="catalogSection.title">Mahsulotlar
                    katalogi üå±</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="catalogSection.subtitle">Sizning hududingizga
                    mos keladigan ba'zi o'simlik
                    turlari.</p>
            </div>

            <!-- Search and Filter Controls -->
            <div class="max-w-6xl mx-auto mb-8 space-y-4">
                <!-- Search Input -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <div class="flex-1">
                        <label for="search-input" class="sr-only">Mahsulotlarni qidirish</label>
                        <input type="text" id="search-input" data-i18n-placeholder="catalogSection.searchPlaceholder"
                            placeholder="Mahsulot nomini kiriting..."
                            class="w-full px-4 py-3 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"
                            aria-label="Mahsulotlarni qidirish" role="searchbox">
                    </div>
                </div>

                <!-- Filter Controls -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Min Price -->
                    <div>
                        <label for="min-price-input" class="block text-sm font-medium text-slate-700 mb-1"
                            data-i18n="catalogSection.minPrice">Minimal narx
                            (so'm)</label>
                        <input type="number" id="min-price-input" placeholder="0"
                            class="w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"
                            min="0">
                    </div>

                    <!-- Max Price -->
                    <div>
                        <label for="max-price-input" class="block text-sm font-medium text-slate-700 mb-1">Maksimal narx
                            (so'm)</label>
                        <input type="number" id="max-price-input" placeholder="1000000"
                            class="w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"
                            min="0">
                    </div>

                    <!-- Product Type -->
                    <div>
                        <label for="type-filter-select" class="block text-sm font-medium text-slate-700 mb-1">Mahsulot
                            turi</label>
                        <select id="type-filter-select"
                            class="w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"
                            aria-label="Mahsulot turini tanlash">
                            <option value="">Barchasi</option>
                            <option value="daraxt">Daraxt</option>
                            <option value="meva">Meva</option>
                            <option value="buta">Buta</option>
                        </select>
                    </div>

                    <!-- Clear Button -->
                    <div class="flex items-end">
                        <button id="clear-filters-btn"
                            class="w-full bg-slate-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-slate-700 transition-colors"
                            aria-label="Barcha filtrlarni tozalash">
                            Tozalash
                        </button>
                    </div>
                </div>
            </div>

            <!-- No Results Message -->
            <div id="no-results-message" class="text-center py-12 hidden" role="status" aria-live="polite">
                <div class="text-6xl mb-4" aria-hidden="true">üîç</div>
                <p class="text-xl text-slate-600 font-semibold">Natija topilmadi</p>
                <p class="text-sm text-slate-500 mt-2">Boshqa qidiruv so'zi yoki filtrlarni sinab ko'ring</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto" id="product-catalog"
                aria-label="Mahsulotlar ro'yxati">
                <!-- Chinordan -->
                <div class="stat-card p-6 rounded-xl border-2 border-green-300 bg-white">
                    <div class="text-6xl mb-4 text-center">üå≥</div>
                    <h3 class="text-xl font-bold mb-2" data-i18n="catalog.chinorName">Chinordan</h3>
                    <p class="text-slate-600 mb-4" data-i18n="catalog.chinorDesc">Ushbu daraxt tez o'sadi, soyasi qalin
                        va havo tozalashda juda samarali.</p>
                    <p class="text-green-700 font-bold text-xl mb-4" data-i18n="catalog.chinorPrice">Narxi: 150,000 so'm
                    </p>
                    <button class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-bold"
                        data-i18n="catalog.addToCart">Savatga qo'shish</button>
                </div>
                <!-- Olmali daraxt -->
                <div class="stat-card p-6 rounded-xl border-2 border-green-300 bg-white">
                    <div class="text-6xl mb-4 text-center">üçè</div>
                    <h3 class="text-xl font-bold mb-2" data-i18n="catalog.olmaName">Olmali daraxt</h3>
                    <p class="text-slate-600 mb-4" data-i18n="catalog.olmaDesc">Meva beruvchi daraxt. Havoni tozalash
                        bilan birga, bog'ingizga chiroy beradi.</p>
                    <p class="text-green-700 font-bold text-xl mb-4" data-i18n="catalog.olmaPrice">Narxi: 120,000 so'm
                    </p>
                    <button class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-bold"
                        data-i18n="catalog.addToCart">Savatga qo'shish</button>
                </div>
                <!-- Atirgul butasi -->
                <div class="stat-card p-6 rounded-xl border-2 border-green-300 bg-white">
                    <div class="text-6xl mb-4 text-center">üå∏</div>
                    <h3 class="text-xl font-bold mb-2" data-i18n="catalog.atirgulName">Atirgul butasi</h3>
                    <p class="text-slate-600 mb-4" data-i18n="catalog.atirgulDesc">Bog' va hovlilarga chiroy beruvchi
                        atirgul butasi, oson parvarish qilinadi.</p>
                    <p class="text-green-700 font-bold text-xl mb-4" data-i18n="catalog.atirgulPrice">Narxi: 45,000 so'm
                    </p>
                    <button class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 font-bold"
                        data-i18n="catalog.addToCart">Savatga qo'shish</button>
                </div>
            </div>
        </section>

        <!-- Mavsumiy Eslatgich sahifasi -->
        <section id="seasonal-tips" class="py-16 md:py-24 bg-green-50 rounded-2xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="seasonalSection.title">Mavsumiy
                    Eslatgich üìÖüå±</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="seasonalSection.subtitle">Har bir mavsumda
                    bog'ingiz uchun nima qilish kerakligini
                    bilib oling</p>
            </div>

            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Bahor -->
                <div class="stat-card p-8 rounded-xl border-2 border-green-300 bg-white">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="text-6xl">üå∏</div>
                        <div>
                            <h3 class="text-2xl font-bold text-green-700">Bahor (Mart-May)</h3>
                            <p class="text-sm text-slate-500">Ekish va ko'chatlar mavsumi</p>
                        </div>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Mevali daraxtlarni eking (olma, o'rik, nok)</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Sabzavot ko'chatlarini eking (pomidor, bodring)</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">‚úì</span>
                            <span class="text-slate-700">O'g'it bering va tuproqni tayyorlang</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-green-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Gul urug'larini sepib boshlang</span>
                        </li>
                    </ul>
                </div>

                <!-- Yoz -->
                <div class="stat-card p-8 rounded-xl border-2 border-yellow-300 bg-white">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="text-6xl">‚òÄÔ∏è</div>
                        <div>
                            <h3 class="text-2xl font-bold text-yellow-600">Yoz (Iyun-Avgust)</h3>
                            <p class="text-sm text-slate-500">Parvarish va sug'orish mavsumi</p>
                        </div>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <span class="text-yellow-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Muntazam sug'oring (ertalab yoki kechqurun)</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-yellow-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Begona o'tlarni tozalang</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-yellow-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Mevalarni yig'ib oling</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-yellow-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Zararkunandalardan himoyalang</span>
                        </li>
                    </ul>
                </div>

                <!-- Kuz -->
                <div class="stat-card p-8 rounded-xl border-2 border-orange-300 bg-white">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="text-6xl">üçÇ</div>
                        <div>
                            <h3 class="text-2xl font-bold text-orange-600">Kuz (Sentyabr-Noyabr)</h3>
                            <p class="text-sm text-slate-500">Hosil va tayyorgarlik mavsumi</p>
                        </div>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <span class="text-orange-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Mevalarni yig'ib oling</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-orange-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Daraxtlarni qirqing va shakllantiring</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-orange-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Organik o'g'it qo'shing</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-orange-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Qishga tayyorlang (mulch qo'shing)</span>
                        </li>
                    </ul>
                </div>

                <!-- Qish -->
                <div class="stat-card p-8 rounded-xl border-2 border-blue-300 bg-white">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="text-6xl">‚ùÑÔ∏è</div>
                        <div>
                            <h3 class="text-2xl font-bold text-blue-600">Qish (Dekabr-Fevral)</h3>
                            <p class="text-sm text-slate-500">Dam olish va rejalashtirish</p>
                        </div>
                    </div>
                    <ul class="space-y-3">
                        <li class="flex items-start gap-3">
                            <span class="text-blue-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Daraxtlarni sovuqdan himoyalang</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Bahor uchun reja tuzing</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Asbob-uskunalarni ta'mirlang</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-blue-600 text-xl">‚úì</span>
                            <span class="text-slate-700">Urug'larni oldindan buyurtma qiling</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Bugungi kunlik eslatma -->
            <div
                class="mt-12 max-w-4xl mx-auto bg-gradient-to-r from-blue-100 to-cyan-100 p-8 rounded-xl border-2 border-blue-300 shadow-lg">
                <div class="flex items-start gap-4">
                    <div class="text-5xl">üìÖ</div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="text-2xl font-bold text-slate-800">Bugungi eslatma</h3>
                            <span class="text-sm text-slate-600 bg-white px-3 py-1 rounded-full"
                                id="current-date">21-noyabr, 2024</span>
                        </div>
                        <div class="bg-white p-6 rounded-lg mb-4">
                            <div class="flex items-start gap-3 mb-4">
                                <span class="text-3xl">üå≤</span>
                                <div>
                                    <h4 class="font-bold text-lg text-slate-800 mb-2">Archalarni himoya qopqog'i bilan
                                        yopish kuni</h4>
                                    <p class="text-slate-600">Bugun archalaringizni sovuqdan himoya qilish uchun maxsus
                                        qopqoq yoki mato bilan yoping. Qish yaqinlashmoqda va o'simliklar himoyaga
                                        muhtoj.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                                <span class="text-2xl">‚ö†Ô∏è</span>
                                <div>
                                    <h5 class="font-bold text-slate-800 mb-1">Kelasi hafta uchun ogohlantirish</h5>
                                    <p class="text-sm text-slate-700">Kelasi hafta sovuq tushadi - limonni uyga olib
                                        kiring. Harorat -5¬∞C gacha tushishi kutilmoqda.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-3">
                            <button
                                class="flex-1 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2">
                                <span>üîî</span>
                                <span>Push-bildirishnomani yoqish</span>
                            </button>
                            <button
                                class="bg-white text-slate-700 font-bold py-3 px-6 rounded-lg hover:bg-slate-50 transition-colors border border-slate-300">
                                Sozlamalar
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Push-bildirishnoma sozlamalari -->
            <div class="mt-8 max-w-4xl mx-auto bg-white p-8 rounded-xl border border-green-200">
                <div class="text-center mb-6">
                    <div class="text-4xl mb-2">üîî</div>
                    <h3 class="text-2xl font-bold text-slate-800">Kunlik eslatmalar</h3>
                    <p class="text-slate-600 mt-2">Har kuni ertalab sizga maxsus eslatmalar yuboramiz</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="text-center p-6 bg-green-50 rounded-lg border border-green-200">
                        <div class="text-4xl mb-3">üåÖ</div>
                        <h4 class="font-bold text-lg mb-2">Ertalab 7:00</h4>
                        <p class="text-sm text-slate-600 mb-3">Kunlik maslahatlar</p>
                        <label class="flex items-center justify-center gap-2 cursor-pointer">
                            <input type="checkbox" checked
                                class="w-5 h-5 text-green-600 rounded focus:ring-2 focus:ring-green-500">
                            <span class="text-sm font-medium">Yoqilgan</span>
                        </label>
                    </div>
                    <div class="text-center p-6 bg-blue-50 rounded-lg border border-blue-200">
                        <div class="text-4xl mb-3">üå§Ô∏è</div>
                        <h4 class="font-bold text-lg mb-2">Kunduzi 12:00</h4>
                        <p class="text-sm text-slate-600 mb-3">Ob-havo ogohlantirish</p>
                        <label class="flex items-center justify-center gap-2 cursor-pointer">
                            <input type="checkbox" checked
                                class="w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500">
                            <span class="text-sm font-medium">Yoqilgan</span>
                        </label>
                    </div>
                    <div class="text-center p-6 bg-purple-50 rounded-lg border border-purple-200">
                        <div class="text-4xl mb-3">üåô</div>
                        <h4 class="font-bold text-lg mb-2">Kechqurun 18:00</h4>
                        <p class="text-sm text-slate-600 mb-3">Sug'orish eslatmasi</p>
                        <label class="flex items-center justify-center gap-2 cursor-pointer">
                            <input type="checkbox"
                                class="w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500">
                            <span class="text-sm font-medium">O'chirilgan</span>
                        </label>
                    </div>
                </div>
                <div class="mt-6 p-4 bg-slate-50 rounded-lg">
                    <h4 class="font-bold text-slate-800 mb-3">Eslatma misollari:</h4>
                    <ul class="space-y-2 text-sm text-slate-700">
                        <li class="flex items-start gap-2">
                            <span class="text-green-600">‚Ä¢</span>
                            <span>"Bugun pomidorlaringizni sug'orish vaqti keldi üíß"</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600">‚Ä¢</span>
                            <span>"Ertaga yomg'ir kutilmoqda - sug'orishni kechiktiring ‚òî"</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600">‚Ä¢</span>
                            <span>"Bahor keldi! Pomidor ko'chatlarini ekish vaqti üå±"</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="text-green-600">‚Ä¢</span>
                            <span>"Daraxtlaringizga o'g'it berish vaqti keldi üß™"</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Hozirgi mavsum eslatmasi -->
            <div
                class="mt-12 max-w-4xl mx-auto bg-gradient-to-r from-green-100 to-emerald-100 p-8 rounded-xl border-2 border-green-300">
                <div class="text-center">
                    <div class="text-5xl mb-4">üìå</div>
                    <h3 class="text-2xl font-bold text-slate-800 mb-4">Hozirgi mavsum: Kuz üçÇ</h3>
                    <p class="text-lg text-slate-700 mb-6">
                        Kuz - hosil yig'ish va qishga tayyorgarlik ko'rish vaqti. Daraxtlaringizni qirqing va organik
                        o'g'it bering.
                    </p>
                    <button
                        class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors">
                        Kuz uchun mahsulotlar
                    </button>
                </div>
            </div>
        </section>

        <!-- Qanday ishlaydi sahifasi -->
        <section id="how-it-works" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="howItWorksSection.title">Qanday
                    ishlaydi? ‚öôÔ∏è</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="howItWorksSection.subtitle">Oddiy qadamlar
                    bilan yashil harakatga qo'shiling.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                <div class="flex flex-col items-center text-center p-6 bg-white rounded-xl border border-green-200">
                    <div
                        class="w-16 h-16 rounded-full bg-green-200 text-green-700 flex items-center justify-center text-2xl font-bold border-2 border-green-400">
                        1</div>
                    <h3 class="font-semibold mt-4 text-xl">Ro'yxatdan o'ting</h3>
                    <p class="text-sm text-slate-500 mt-2">Ilova yoki veb-sayt orqali profilingizni yarating. Bu sizning
                        ekologik hissangizni kuzatish uchun shaxsiy maydonchangiz bo'ladi.</p>
                </div>
                <div class="flex flex-col items-center text-center p-6 bg-white rounded-xl border border-green-200">
                    <div
                        class="w-16 h-16 rounded-full bg-green-200 text-green-700 flex items-center justify-center text-2xl font-bold border-2 border-green-400">
                        2</div>
                    <h3 class="font-semibold mt-4 text-xl">Daraxt tanlang</h3>
                    <p class="text-sm text-slate-500 mt-2">Katalogimizdan hududingizga mos keladigan daraxt turini
                        tanlab, onlayn buyurtma bering.</p>
                </div>
                <div class="flex flex-col items-center text-center p-6 bg-white rounded-xl border border-green-200">
                    <div
                        class="w-16 h-16 rounded-full bg-green-200 text-green-700 flex items-center justify-center text-2xl font-bold border-2 border-green-400">
                        3</div>
                    <h3 class="font-semibold mt-4 text-xl">Yetkazib berish</h3>
                    <p class="text-sm text-slate-500 mt-2">Buyurtmangiz mahalliy hamkorlarimiz tomonidan sizga qulay
                        vaqtda yetkazib beriladi. Har bir daraxtga noyob QR-kod biriktiriladi.</p>
                </div>
                <div class="flex flex-col items-center text-center p-6 bg-white rounded-xl border border-green-200">
                    <div
                        class="w-16 h-16 rounded-full bg-green-200 text-green-700 flex items-center justify-center text-2xl font-bold border-2 border-green-400">
                        4</div>
                    <h3 class="font-semibold mt-4 text-xl">Hisobot va kuzatuv</h3>
                    <p class="text-sm text-slate-500 mt-2">QR-kod orqali daraxtingiz haqida ma'lumotlarga ega bo'ling,
                        uning ekologik hissasini kuzating va o'z yutuqlaringizdan bahramand bo'ling.</p>
                </div>
            </div>
        </section>

        <!-- Mahalla Reytingi sahifasi -->
        <section id="neighborhood-rating" class="py-16 md:py-24 bg-gradient-to-br from-green-50 to-emerald-50">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="ratingSection.title">Mahalla
                    Reytingi üèÜüå≥</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="ratingSection.subtitle">O'zbekiston bo'ylab
                    eng yashil mahallalar, eng faol
                    oilalar. O'z mahallangizni topib, ball to'plang!</p>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Top 3 Mahallalar -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">ü•á Top 3 Mahallalar</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- 1-o'rin -->
                        <div
                            class="stat-card p-6 rounded-xl border-4 border-yellow-400 bg-gradient-to-br from-yellow-50 to-amber-50 relative">
                            <div
                                class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white px-4 py-1 rounded-full font-bold text-sm">
                                1-O'RIN
                            </div>
                            <div class="text-center mt-4">
                                <div class="text-6xl mb-3">ü•á</div>
                                <h4 class="text-xl font-bold text-slate-800 mb-2">Torobiy ko'chasi</h4>
                                <p class="text-sm text-slate-600 mb-3">Navoiy shahri</p>
                                <div class="bg-white p-4 rounded-lg mb-3">
                                    <p class="text-3xl font-bold text-green-700">2,450</p>
                                    <p class="text-sm text-slate-600">Yashil ball</p>
                                </div>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-green-600">342</p>
                                        <p class="text-xs text-slate-600">Daraxt</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-blue-600">156</p>
                                        <p class="text-xs text-slate-600">Oila</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 2-o'rin -->
                        <div
                            class="stat-card p-6 rounded-xl border-4 border-slate-300 bg-gradient-to-br from-slate-50 to-gray-50 relative">
                            <div
                                class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-slate-400 text-white px-4 py-1 rounded-full font-bold text-sm">
                                2-O'RIN
                            </div>
                            <div class="text-center mt-4">
                                <div class="text-6xl mb-3">ü•à</div>
                                <h4 class="text-xl font-bold text-slate-800 mb-2">Ibn Sino ko'chasi</h4>
                                <p class="text-sm text-slate-600 mb-3">Navoiy shahri</p>
                                <div class="bg-white p-4 rounded-lg mb-3">
                                    <p class="text-3xl font-bold text-green-700">2,180</p>
                                    <p class="text-sm text-slate-600">Yashil ball</p>
                                </div>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-green-600">298</p>
                                        <p class="text-xs text-slate-600">Daraxt</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-blue-600">134</p>
                                        <p class="text-xs text-slate-600">Oila</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 3-o'rin -->
                        <div
                            class="stat-card p-6 rounded-xl border-4 border-orange-300 bg-gradient-to-br from-orange-50 to-amber-50 relative">
                            <div
                                class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-orange-400 text-white px-4 py-1 rounded-full font-bold text-sm">
                                3-O'RIN
                            </div>
                            <div class="text-center mt-4">
                                <div class="text-6xl mb-3">ü•â</div>
                                <h4 class="text-xl font-bold text-slate-800 mb-2">Islom Karimov ko'chasi</h4>
                                <p class="text-sm text-slate-600 mb-3">Navoiy shahri</p>
                                <div class="bg-white p-4 rounded-lg mb-3">
                                    <p class="text-3xl font-bold text-green-700">1,920</p>
                                    <p class="text-sm text-slate-600">Yashil ball</p>
                                </div>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-green-600">267</p>
                                        <p class="text-xs text-slate-600">Daraxt</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="font-bold text-blue-600">118</p>
                                        <p class="text-xs text-slate-600">Oila</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Barcha mahallalar reytingi -->
                <div class="bg-white p-8 rounded-xl border border-green-200 mb-12">
                    <h3 class="text-2xl font-bold text-slate-800 mb-6">üìä Barcha mahallalar reytingi</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left">
                            <thead>
                                <tr class="border-b-2 border-green-200">
                                    <th class="pb-3 text-slate-700 font-bold">O'rin</th>
                                    <th class="pb-3 text-slate-700 font-bold">Mahalla</th>
                                    <th class="pb-3 text-slate-700 font-bold">Shahar</th>
                                    <th class="pb-3 text-slate-700 font-bold text-center">Ball</th>
                                    <th class="pb-3 text-slate-700 font-bold text-center">Daraxtlar</th>
                                    <th class="pb-3 text-slate-700 font-bold text-center">Oilalar</th>
                                </tr>
                            </thead>
                            <tbody class="text-sm">
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">4</td>
                                    <td class="py-3">Mirzo Ulug'bek 3-mavze</td>
                                    <td class="py-3 text-slate-600">Toshkent</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,750</td>
                                    <td class="py-3 text-center">234</td>
                                    <td class="py-3 text-center">102</td>
                                </tr>
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">5</td>
                                    <td class="py-3">Registon mahallasi</td>
                                    <td class="py-3 text-slate-600">Samarqand</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,680</td>
                                    <td class="py-3 text-center">221</td>
                                    <td class="py-3 text-center">95</td>
                                </tr>
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">6</td>
                                    <td class="py-3">Qo'qon 7-mavze</td>
                                    <td class="py-3 text-slate-600">Farg'ona</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,540</td>
                                    <td class="py-3 text-center">198</td>
                                    <td class="py-3 text-center">87</td>
                                </tr>
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">7</td>
                                    <td class="py-3">Xiva ichki shahar</td>
                                    <td class="py-3 text-slate-600">Xorazm</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,420</td>
                                    <td class="py-3 text-center">176</td>
                                    <td class="py-3 text-center">81</td>
                                </tr>
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">8</td>
                                    <td class="py-3">Namangan 4-mavze</td>
                                    <td class="py-3 text-slate-600">Namangan</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,350</td>
                                    <td class="py-3 text-center">165</td>
                                    <td class="py-3 text-center">76</td>
                                </tr>
                                <tr class="border-b border-slate-100 hover:bg-green-50">
                                    <td class="py-3 font-bold">9</td>
                                    <td class="py-3">Andijon markaziy</td>
                                    <td class="py-3 text-slate-600">Andijon</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,280</td>
                                    <td class="py-3 text-center">152</td>
                                    <td class="py-3 text-center">69</td>
                                </tr>
                                <tr class="hover:bg-green-50">
                                    <td class="py-3 font-bold">10</td>
                                    <td class="py-3">Buxoro qadimiy shahar</td>
                                    <td class="py-3 text-slate-600">Buxoro</td>
                                    <td class="py-3 text-center font-bold text-green-700">1,190</td>
                                    <td class="py-3 text-center">143</td>
                                    <td class="py-3 text-center">64</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Top 5 Faol Oilalar -->
                <div class="bg-white p-8 rounded-xl border border-green-200 mb-12">
                    <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Top 5 Faol Oilalar</h3>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                        <div
                            class="text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border-2 border-green-300">
                            <div class="text-4xl mb-2">üèÜ</div>
                            <h4 class="font-bold text-slate-800 mb-1">Karimov oilasi</h4>
                            <p class="text-xs text-slate-600 mb-2">Chilonzor</p>
                            <p class="text-2xl font-bold text-green-700">156</p>
                            <p class="text-xs text-slate-600">ball</p>
                            <p class="text-sm text-green-600 mt-2">üå≥ 23 daraxt</p>
                        </div>
                        <div
                            class="text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border-2 border-blue-300">
                            <div class="text-4xl mb-2">ü•à</div>
                            <h4 class="font-bold text-slate-800 mb-1">Rahimov oilasi</h4>
                            <p class="text-xs text-slate-600 mb-2">Sergeli</p>
                            <p class="text-2xl font-bold text-green-700">142</p>
                            <p class="text-xs text-slate-600">ball</p>
                            <p class="text-sm text-green-600 mt-2">üå≥ 19 daraxt</p>
                        </div>
                        <div
                            class="text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border-2 border-purple-300">
                            <div class="text-4xl mb-2">ü•â</div>
                            <h4 class="font-bold text-slate-800 mb-1">Aliyev oilasi</h4>
                            <p class="text-xs text-slate-600 mb-2">Yunusobod</p>
                            <p class="text-2xl font-bold text-green-700">128</p>
                            <p class="text-xs text-slate-600">ball</p>
                            <p class="text-sm text-green-600 mt-2">üå≥ 17 daraxt</p>
                        </div>
                        <div
                            class="text-center p-4 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border-2 border-yellow-300">
                            <div class="text-4xl mb-2">‚≠ê</div>
                            <h4 class="font-bold text-slate-800 mb-1">Tursunov oilasi</h4>
                            <p class="text-xs text-slate-600 mb-2">Mirzo Ulug'bek</p>
                            <p class="text-2xl font-bold text-green-700">115</p>
                            <p class="text-xs text-slate-600">ball</p>
                            <p class="text-sm text-green-600 mt-2">üå≥ 15 daraxt</p>
                        </div>
                        <div
                            class="text-center p-4 bg-gradient-to-br from-red-50 to-pink-50 rounded-lg border-2 border-red-300">
                            <div class="text-4xl mb-2">‚≠ê</div>
                            <h4 class="font-bold text-slate-800 mb-1">Yusupov oilasi</h4>
                            <p class="text-xs text-slate-600 mb-2">Registon</p>
                            <p class="text-2xl font-bold text-green-700">108</p>
                            <p class="text-xs text-slate-600">ball</p>
                            <p class="text-sm text-green-600 mt-2">üå≥ 14 daraxt</p>
                        </div>
                    </div>
                </div>

                <!-- O'z mahallangizni qo'shing -->
                <div class="bg-gradient-to-r from-green-100 to-emerald-100 p-8 rounded-xl border-2 border-green-300">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-2">üèòÔ∏è</div>
                        <h3 class="text-2xl font-bold text-green-800">O'z mahallangizni qo'shing!</h3>
                        <p class="text-green-700 mt-2">Mahallangiz reytingda yo'qmi? Hoziroq qo'shing va ball to'plashni
                            boshlang!</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg max-w-2xl mx-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Mahalla nomi</label>
                                <input type="text" placeholder="Masalan: Chilonzor 12-mavze"
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label for="city-select" class="block text-sm font-bold text-slate-700 mb-2">Shahar</label>
                                <select id="city-select"
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                    aria-label="Shahar tanlash">
                                    <option>Toshkent</option>
                                    <option>Samarqand</option>
                                    <option>Buxoro</option>
                                    <option>Farg'ona</option>
                                    <option>Andijon</option>
                                    <option>Namangan</option>
                                    <option>Xorazm</option>
                                    <option>Qashqadaryo</option>
                                    <option>Surxondaryo</option>
                                    <option>Jizzax</option>
                                    <option>Sirdaryo</option>
                                    <option>Navoiy</option>
                                    <option>Qoraqalpog'iston</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-bold text-slate-700 mb-2">Sizning ismingiz (oila
                                vakili)</label>
                            <input type="text" placeholder="Masalan: Karimov Aziz"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        </div>
                        <button
                            class="w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition-colors">
                            Mahallani ro'yxatdan o'tkazish
                        </button>
                    </div>
                </div>

                <!-- Ball to'plash yo'llari -->
                <div class="mt-12 bg-white p-8 rounded-xl border border-green-200">
                    <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">üí∞ Ball to'plash yo'llari</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center p-6 bg-green-50 rounded-lg">
                            <div class="text-5xl mb-3">üå≥</div>
                            <h4 class="font-bold text-lg mb-2">Daraxt ekish</h4>
                            <p class="text-3xl font-bold text-green-700 mb-2">+10 ball</p>
                            <p class="text-sm text-slate-600">Har bir ekilgan daraxt uchun</p>
                        </div>
                        <div class="text-center p-6 bg-blue-50 rounded-lg">
                            <div class="text-5xl mb-3">üõí</div>
                            <h4 class="font-bold text-lg mb-2">Xarid qilish</h4>
                            <p class="text-3xl font-bold text-blue-700 mb-2">+5 ball</p>
                            <p class="text-sm text-slate-600">Har 10,000 so'mlik xarid uchun</p>
                        </div>
                        <div class="text-center p-6 bg-purple-50 rounded-lg">
                            <div class="text-5xl mb-3">üíö</div>
                            <h4 class="font-bold text-lg mb-2">Sadaqa berish</h4>
                            <p class="text-3xl font-bold text-purple-700 mb-2">+15 ball</p>
                            <p class="text-sm text-slate-600">Yashil jamg'armaga hissa uchun</p>
                        </div>
                    </div>
                    <div class="mt-6 text-center">
                        <p class="text-slate-600 text-sm">üí° <strong>Maslahat:</strong> Mahallangiz bilan birgalikda
                            daraxt ekish kampaniyalarini tashkil qiling va ko'proq ball to'plang!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Maslahatchi sahifasi -->
        <section id="ai-advisor" class="py-16 md:py-24"></section>
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="aiSection.title">AI Bog'bon (24/7
                maslahatchi)</h2>
            <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="aiSection.subtitle">Hududingizning iqlimiga mos
                keladigan daraxtlarni
                aniqlash uchun sun'iy intellektdan foydalaning.</p>
        </div>
        <div class="stat-card p-8 rounded-xl border border-green-200 max-w-2xl mx-auto">
            <p class="text-slate-600 mb-4">Iqlim sharoitingizni tasvirlang (masalan, "Toshkent, yozda juda issiq va
                quruq iqlim"):</p>
            <div class="flex flex-col sm:flex-row gap-4">
                <input type="text" id="ai-input" placeholder="Hududingizni kiriting..."
                    class="w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                <button id="ai-btn"
                    class="bg-green-700 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-800 transition-colors flex-shrink-0">Tavsiya
                    olish</tbutton>
            </div>
            <div id="ai-response-container"
                class="mt-8 relative min-h-[150px] bg-slate-50 rounded-lg p-4 border border-slate-200">
                <p id="ai-response-text" class="text-slate-700 leading-relaxed">Tavsiyalar bu yerda paydo bo'ladi...
                </p>
                <div id="ai-loader"
                    class="absolute inset-0 flex items-center justify-center bg-white/70 backdrop-blur-sm hidden">
                    <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-700"></div>
                </div>
            </div>
        </div>
        </section>

        <!-- Yashil Yangiliklar va Video sahifasi -->
        <section id="green-news" class="py-16 md:py-24 bg-gradient-to-br from-cyan-50 to-blue-50">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="newsSection.title">Yashil
                    Yangiliklar va Video üì∫üåø</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="newsSection.subtitle">Har kuni yangi video va
                    buvilarimizning bog'dorchilik
                    sirlari</p>
            </div>

            <div class="max-w-6xl mx-auto">
                <!-- Bugungi video -->
                <div class="bg-white p-8 rounded-xl border-2 border-blue-300 shadow-lg mb-12">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="text-4xl">üé¨</div>
                        <div>
                            <h3 class="text-2xl font-bold text-blue-700">Bugungi video</h3>
                            <p class="text-sm text-slate-600">Har kuni 30 soniyalik qiziqarli video</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Video player -->
                        <div
                            class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl aspect-video flex items-center justify-center relative overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-br from-green-500/20 to-blue-500/20"></div>
                            <div class="relative text-center">
                                <div class="text-6xl mb-3">‚ñ∂Ô∏è</div>
                                <p class="text-white font-bold text-lg">Toshkentda qaysi daraxt tez o'sadi?</p>
                                <p class="text-slate-300 text-sm mt-2">30 soniya</p>
                            </div>
                        </div>
                        <!-- Video ma'lumoti -->
                        <div>
                            <h4 class="font-bold text-xl mb-3">Toshkentda qaysi daraxt tez o'sadi?</h4>
                            <p class="text-slate-600 mb-4">
                                Toshkent iqlimida eng tez o'sadigan daraxtlar haqida qiziqarli ma'lumotlar. Ekspertlar
                                maslahatlar beradi va tajribalarini baham ko'rishadi.
                            </p>
                            <div class="space-y-2 mb-4">
                                <div class="flex items-center gap-2 text-sm">
                                    <span class="text-green-600">‚úì</span>
                                    <span>Tut daraxti - yiliga 1-1.5 metr</span>
                                </div>
                                <div class="flex items-center gap-2 text-sm">
                                    <span class="text-green-600">‚úì</span>
                                    <span>Terak - yiliga 1.5-2 metr</span>
                                </div>
                                <div class="flex items-center gap-2 text-sm">
                                    <span class="text-green-600">‚úì</span>
                                    <span>Yong'oq - yiliga 0.8-1 metr</span>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <button
                                    class="flex-1 bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors">
                                    Videoni ko'rish
                                </button>
                                <button
                                    class="bg-slate-100 text-slate-700 font-bold py-3 px-4 rounded-lg hover:bg-slate-200 transition-colors">
                                    üì§
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Video arxiv -->
                <div class="bg-white p-8 rounded-xl border border-blue-200 mb-12">
                    <h3 class="text-2xl font-bold text-slate-800 mb-6">üìö Video arxiv</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Video 1 -->
                        <div
                            class="border-2 border-slate-200 rounded-lg overflow-hidden hover:border-blue-400 transition-all cursor-pointer">
                            <div
                                class="bg-gradient-to-br from-green-400 to-emerald-500 aspect-video flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-4xl mb-2">‚ñ∂Ô∏è</div>
                                    <p class="text-sm font-bold px-4">Qishda daraxtlarni qanday himoya qilish kerak?</p>
                                </div>
                            </div>
                            <div class="p-4">
                                <p class="text-xs text-slate-600 mb-2">3 kun oldin ‚Ä¢ 45 sek</p>
                                <h4 class="font-bold text-sm mb-2">Qishda daraxtlarni himoya qilish</h4>
                                <div class="flex items-center gap-2">
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">Qish</span>
                                    <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">Maslahat</span>
                                </div>
                            </div>
                        </div>

                        <!-- Video 2 -->
                        <div
                            class="border-2 border-slate-200 rounded-lg overflow-hidden hover:border-blue-400 transition-all cursor-pointer">
                            <div
                                class="bg-gradient-to-br from-yellow-400 to-orange-500 aspect-video flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-4xl mb-2">‚ñ∂Ô∏è</div>
                                    <p class="text-sm font-bold px-4">Pomidorni qachon ekish kerak?</p>
                                </div>
                            </div>
                            <div class="p-4">
                                <p class="text-xs text-slate-600 mb-2">5 kun oldin ‚Ä¢ 30 sek</p>
                                <h4 class="font-bold text-sm mb-2">Pomidor ekish vaqti</h4>
                                <div class="flex items-center gap-2">
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">Bahor</span>
                                    <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded">Ko'chat</span>
                                </div>
                            </div>
                        </div>

                        <!-- Video 3 -->
                        <div
                            class="border-2 border-slate-200 rounded-lg overflow-hidden hover:border-blue-400 transition-all cursor-pointer">
                            <div
                                class="bg-gradient-to-br from-purple-400 to-pink-500 aspect-video flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-4xl mb-2">‚ñ∂Ô∏è</div>
                                    <p class="text-sm font-bold px-4">Organik o'g'it qanday tayyorlanadi?</p>
                                </div>
                            </div>
                            <div class="p-4">
                                <p class="text-xs text-slate-600 mb-2">1 hafta oldin ‚Ä¢ 40 sek</p>
                                <h4 class="font-bold text-sm mb-2">Organik o'g'it tayyorlash</h4>
                                <div class="flex items-center gap-2">
                                    <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded">O'g'it</span>
                                    <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">DIY</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 text-center">
                        <button
                            class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition-colors">
                            Barcha videolarni ko'rish (100+)
                        </button>
                    </div>
                </div>

                <!-- Buvilarimizning sirlari -->
                <div
                    class="bg-gradient-to-r from-amber-100 to-orange-100 p-8 rounded-xl border-2 border-amber-300 shadow-lg mb-12">
                    <div class="flex items-start gap-6">
                        <div class="text-7xl">üëµ</div>
                        <div class="flex-1">
                            <h3 class="text-2xl font-bold text-amber-800 mb-3">Buvilarimizning bog'dorchilik sirlari
                            </h3>
                            <p class="text-slate-700 mb-6">O'zbek tilida qisqa hikoyalar - avloddan avlodga o'tgan
                                tajribalar</p>

                            <!-- Hikoya kartochkalari -->
                            <div class="space-y-4">
                                <!-- Hikoya 1 -->
                                <div class="bg-white p-6 rounded-lg border-2 border-amber-200">
                                    <div class="flex items-start gap-4">
                                        <div class="text-4xl">üìñ</div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-lg mb-2">Oy nurida sug'orish sirri</h4>
                                            <p class="text-sm text-slate-600 mb-3 italic">
                                                "Buvim aytardi: 'Bog'ni to'lin oy kechasida sug'orma, o'simliklar ko'p
                                                suv ichib, ildizi chiriydi. Yangi oy paytida sug'or, o'simlik kuchli
                                                o'sadi.' Men 40 yil shunday qilaman, hech qachon xato bo'lmagan."
                                            </p>
                                            <div class="flex items-center justify-between">
                                                <p class="text-xs text-slate-500">Toshkent, Chilonzor - Fotima opa, 68
                                                    yosh</p>
                                                <button
                                                    class="text-sm text-blue-600 hover:text-blue-700 font-bold">To'liq
                                                    o'qish ‚Üí</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hikoya 2 -->
                                <div class="bg-white p-6 rounded-lg border-2 border-amber-200">
                                    <div class="flex items-start gap-4">
                                        <div class="text-4xl">üìñ</div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-lg mb-2">Qo'shni daraxtlar do'stligi</h4>
                                            <p class="text-sm text-slate-600 mb-3 italic">
                                                "Otam o'rgatgan: 'Olma bilan nok yonma-yon ek, ular do'st. Lekin o'rik
                                                va shaftoli uzoqroq ek, ular raqib.' Haqiqatan ham, do'st daraxtlar
                                                yonma-yon yaxshi o'sadi, bir-biriga yordam beradi."
                                            </p>
                                            <div class="flex items-center justify-between">
                                                <p class="text-xs text-slate-500">Samarqand - Aziz aka, 72 yosh</p>
                                                <button
                                                    class="text-sm text-blue-600 hover:text-blue-700 font-bold">To'liq
                                                    o'qish ‚Üí</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Hikoya 3 -->
                                <div class="bg-white p-6 rounded-lg border-2 border-amber-200">
                                    <div class="flex items-start gap-4">
                                        <div class="text-4xl">üìñ</div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-lg mb-2">Tuxum po'stlog'i - eng yaxshi o'g'it</h4>
                                            <p class="text-sm text-slate-600 mb-3 italic">
                                                "Onam har doim tuxum po'stlog'ini yig'ib, maydalab, tuproqqa qo'shardi.
                                                'Bu eng yaxshi kaltsiy, daraxt kuchli bo'ladi' derdi. Hozir men ham
                                                shunday qilaman, pomidorim bozordagidan yaxshiroq."
                                            </p>
                                            <div class="flex items-center justify-between">
                                                <p class="text-xs text-slate-500">Farg'ona - Dilbar opa, 65 yosh</p>
                                                <button
                                                    class="text-sm text-blue-600 hover:text-blue-700 font-bold">To'liq
                                                    o'qish ‚Üí</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6 text-center">
                                <button
                                    class="bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-700 transition-colors">
                                    Barcha hikoyalarni o'qish (50+)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- O'z hikoyangizni ulashing -->
                <div class="bg-white p-8 rounded-xl border border-green-200">
                    <div class="text-center mb-6">
                        <div class="text-5xl mb-3">‚úçÔ∏è</div>
                        <h3 class="text-2xl font-bold text-slate-800">O'z hikoyangizni ulashing!</h3>
                        <p class="text-slate-600 mt-2">Sizning oilangizda qanday bog'dorchilik sirlari bor?</p>
                    </div>
                    <div class="max-w-2xl mx-auto">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Hikoya sarlavhasi</label>
                                <input type="text" placeholder="Masalan: Buvimning pomidor ekish usuli"
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            </div>
                            <div>
                                <label class="block text-sm font-bold text-slate-700 mb-2">Hikoya matni</label>
                                <textarea rows="4" placeholder="Hikoyangizni yozing..."
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"></textarea>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Ismingiz</label>
                                    <input type="text" placeholder="Masalan: Fotima opa"
                                        class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-slate-700 mb-2">Shahar</label>
                                    <input type="text" placeholder="Masalan: Toshkent"
                                        class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                </div>
                            </div>
                            <button
                                class="w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition-colors">
                                Hikoyani yuborish
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Aloqa sahifasi -->
        <section id="contact" class="py-16 md:py-24 bg-green-50 rounded-2xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="contactSection.title">Biz bilan
                    bog'laning üìû</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="contactSection.subtitle">Loyiha bo'yicha
                    savollaringiz bo'lsa yoki hamkorlikni
                    boshlamoqchi bo'lsangiz, bizga murojaat qiling.</p>
            </div>
            <div class="max-w-md mx-auto stat-card p-8 rounded-xl border border-green-200">
                <form class="space-y-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-slate-700"
                            data-i18n="contactSection.name">Ism</label>
                        <input type="text" id="name"
                            class="mt-1 block w-full rounded-md border-green-300 shadow-sm focus:border-green-500 focus:ring-green-500">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-slate-700"
                            data-i18n="contactSection.email">Email</label>
                        <input type="email" id="email"
                            class="mt-1 block w-full rounded-md border-green-300 shadow-sm focus:border-green-500 focus:ring-green-500">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-slate-700"
                            data-i18n="contactSection.message">Xabar</label>
                        <textarea id="message" rows="4"
                            class="mt-1 block w-full rounded-md border-green-300 shadow-sm focus:border-green-500 focus:ring-green-500"></textarea>
                    </div>
                    <div>
                        <button type="submit"
                            class="w-full bg-green-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-800 transition-colors"
                            data-i18n="contactSection.send">Yuborish</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Buyurtmalar tarixi sahifasi -->
        <section id="orders" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800" data-i18n="ordersSection.title">Mening
                    buyurtmalarim üì¶</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500" data-i18n="ordersSection.subtitle">Barcha
                    buyurtmalaringiz va ularning holati</p>
            </div>

            <!-- No Orders Message -->
            <div id="no-orders-message" class="text-center py-12 hidden">
                <div class="text-6xl mb-4">üì¶</div>
                <p class="text-xl text-slate-600 font-semibold">Buyurtmalar yo'q</p>
                <p class="text-sm text-slate-500 mt-2">Siz hali buyurtma bermagansiz</p>
                <a href="#catalog"
                    class="inline-block mt-6 bg-green-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors">
                    Mahsulotlarni ko'rish
                </a>
            </div>

            <!-- Orders List -->
            <div id="orders-list-container" class="max-w-4xl mx-auto space-y-4">
                <!-- Orders will be dynamically rendered here -->
            </div>
        </section>

        <!-- Admin Panel sahifasi -->
        <section id="admin" class="py-16 md:py-24 bg-green-50 rounded-2xl">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-slate-800">Admin Panel üîß</h2>
                <p class="mt-4 max-w-xl mx-auto text-slate-500">Mahsulotlarni boshqarish va katalogni yangilash</p>
            </div>

            <!-- Add Product Button -->
            <div class="max-w-6xl mx-auto mb-8 text-center">
                <button id="add-product-btn"
                    class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-green-700 transition-colors inline-flex items-center gap-2">
                    <span class="text-xl">‚ûï</span>
                    Yangi mahsulot qo'shish
                </button>
            </div>

            <!-- Products Management List -->
            <div id="admin-products-list" class="max-w-6xl mx-auto space-y-4">
                <!-- Admin products will be dynamically rendered here -->
            </div>
        </section>

    </main>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[9999] hidden items-center justify-center"
        role="dialog" aria-modal="true" aria-labelledby="cart-modal-title">
        <div class="cart-modal bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col">
            <div class="cart-modal-content flex flex-col h-full">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-6 border-b border-slate-200">
                    <h2 id="cart-modal-title" class="text-2xl font-bold text-slate-800">Savat üõí</h2>
                    <button id="close-cart-btn"
                        class="text-slate-400 hover:text-slate-600 text-3xl font-bold leading-none"
                        aria-label="Savatni yopish">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="cart-modal-body flex-1 overflow-y-auto p-6">
                    <div id="cart-empty-message" class="text-center py-12 hidden" role="status">
                        <div class="text-6xl mb-4" aria-hidden="true">üõí</div>
                        <p class="text-xl text-slate-500">Savat bo'sh</p>
                        <p class="text-sm text-slate-400 mt-2">Mahsulotlarni savatga qo'shishni boshlang</p>
                    </div>

                    <div id="cart-items-container" class="space-y-4" role="list" aria-label="Savatdagi mahsulotlar">
                        <!-- Cart items will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="border-t border-slate-200 p-6 bg-slate-50">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-semibold text-slate-700">Jami:</span>
                        <span id="cart-total-price" class="text-2xl font-bold text-green-700" role="status"
                            aria-live="polite" aria-atomic="true">0 so'm</span>
                    </div>
                    <button id="checkout-btn"
                        class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed"
                        aria-label="Buyurtma berish sahifasiga o'tish">
                        Buyurtma berish
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Form Modal -->
    <div id="checkout-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[10000] hidden items-center justify-center"
        role="dialog" aria-modal="true" aria-labelledby="checkout-modal-title">
        <div class="checkout-form bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex flex-col">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-6 border-b border-slate-200">
                    <h2 id="checkout-modal-title" class="text-2xl font-bold text-slate-800">Buyurtma berish üìù</h2>
                    <button id="close-checkout-btn"
                        class="text-slate-400 hover:text-slate-600 text-3xl font-bold leading-none"
                        aria-label="Buyurtma formasini yopish">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="p-6">
                    <form id="checkout-form" class="space-y-4">
                        <!-- Name Field -->
                        <div>
                            <label for="customer-name" class="block text-sm font-medium text-slate-700 mb-1">
                                Ism va familiya <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="customer-name" name="name" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="Ismingizni kiriting">
                            <p id="name-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Phone Field -->
                        <div>
                            <label for="customer-phone" class="block text-sm font-medium text-slate-700 mb-1">
                                Telefon raqami <span class="text-red-500">*</span>
                            </label>
                            <input type="tel" id="customer-phone" name="phone" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="+998 20 000 00 00">
                            <p id="phone-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Address Field -->
                        <div>
                            <label for="customer-address" class="block text-sm font-medium text-slate-700 mb-1">
                                Yetkazib berish manzili <span class="text-red-500">*</span>
                            </label>
                            <textarea id="customer-address" name="address" required rows="3"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="To'liq manzilni kiriting"></textarea>
                            <p id="address-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Email Field -->
                        <div>
                            <label for="customer-email" class="block text-sm font-medium text-slate-700 mb-1">
                                Email <span class="text-red-500">*</span>
                            </label>
                            <input type="email" id="customer-email" name="email" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                placeholder="email@example.com">
                            <p id="email-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Submit Button -->
                        <div class="pt-4">
                            <button type="submit"
                                class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors"
                                aria-label="To'lov sahifasiga o'tish">
                                Davom etish
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[10000] hidden items-center justify-center"
        role="dialog" aria-modal="true" aria-labelledby="payment-modal-title">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex flex-col">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-6 border-b border-slate-200">
                    <h2 id="payment-modal-title" class="text-2xl font-bold text-slate-800">To'lov üí≥</h2>
                    <button id="close-payment-btn"
                        class="text-slate-400 hover:text-slate-600 text-3xl font-bold leading-none"
                        aria-label="To'lov oynasini yopish">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="p-6">
                    <!-- Order Summary -->
                    <div class="mb-6 p-4 bg-slate-50 rounded-lg">
                        <h3 class="font-semibold text-lg mb-3 text-slate-800">Buyurtma xulosasi</h3>
                        <div id="payment-order-summary" class="space-y-2 text-sm">
                            <!-- Order items will be inserted here -->
                        </div>
                        <div class="mt-4 pt-4 border-t border-slate-300 flex justify-between items-center">
                            <span class="font-semibold text-slate-700">Jami:</span>
                            <span id="payment-total-price" class="text-xl font-bold text-green-700">0 so'm</span>
                        </div>
                    </div>

                    <!-- Payment Method Selection -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-lg mb-3 text-slate-800">To'lov usulini tanlang</h3>
                        <div id="payment-methods-container" class="space-y-3">
                            <!-- Payment methods will be inserted here -->
                        </div>
                    </div>

                    <!-- Card Payment Form (hidden by default) -->
                    <div id="card-payment-form" class="hidden">
                        <h3 class="font-semibold text-lg mb-3 text-slate-800">Karta ma'lumotlari</h3>
                        <form id="card-form" class="space-y-4">
                            <div>
                                <label for="card-number" class="block text-sm font-medium text-slate-700 mb-1">
                                    Karta raqami <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="card-number" maxlength="19" required
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                    placeholder="1234 5678 9012 3456">
                                <p id="card-number-error" class="text-red-500 text-sm mt-1 hidden"></p>
                            </div>

                            <div>
                                <label for="card-holder" class="block text-sm font-medium text-slate-700 mb-1">
                                    Karta egasi <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="card-holder" required
                                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                    placeholder="ISM FAMILIYA">
                                <p id="card-holder-error" class="text-red-500 text-sm mt-1 hidden"></p>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="expiry-date" class="block text-sm font-medium text-slate-700 mb-1">
                                        Amal qilish muddati <span class="text-red-500">*</span>
                                    </label>
                                    <input type="text" id="expiry-date" maxlength="5" required
                                        class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                        placeholder="MM/YY">
                                    <p id="expiry-date-error" class="text-red-500 text-sm mt-1 hidden"></p>
                                </div>

                                <div>
                                    <label for="cvv" class="block text-sm font-medium text-slate-700 mb-1">
                                        CVV <span class="text-red-500">*</span>
                                    </label>
                                    <input type="text" id="cvv" maxlength="3" required
                                        class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                        placeholder="123">
                                    <p id="cvv-error" class="text-red-500 text-sm mt-1 hidden"></p>
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Payment Button -->
                    <div class="mt-6">
                        <button id="process-payment-btn"
                            class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed flex items-center justify-center"
                            disabled>
                            <span id="payment-btn-text">To'lov usulini tanlang</span>
                            <span id="payment-loader" class="ml-2 hidden">
                                <div class="animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"></div>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[10001] hidden items-center justify-center"
        role="dialog" aria-modal="true" aria-labelledby="success-modal-title">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-8 text-center">
            <div class="text-6xl mb-4" aria-hidden="true">‚úÖ</div>
            <h2 id="success-modal-title" class="text-2xl font-bold text-slate-800 mb-2">To'lov muvaffaqiyatli!</h2>
            <p class="text-slate-600 mb-4">Buyurtmangiz qabul qilindi</p>

            <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                <p class="text-sm text-slate-600 mb-1">Buyurtma raqami:</p>
                <p id="success-order-number" class="text-2xl font-bold text-green-700" role="status" aria-live="polite">
                    GM123456789</p>
            </div>

            <p class="text-sm text-slate-500 mb-6">
                Buyurtmangiz tez orada yetkazib beriladi. Buyurtma ma'lumotlari emailingizga yuborildi.
            </p>

            <button id="close-success-btn"
                class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors"
                aria-label="Muvaffaqiyat oynasini yopish">
                Yopish
            </button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="fixed inset-0 bg-black bg-opacity-50 z-[10001] hidden items-center justify-center"
        role="dialog" aria-modal="true" aria-labelledby="error-modal-title">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-8 text-center">
            <div class="text-6xl mb-4" aria-hidden="true">‚ùå</div>
            <h2 id="error-modal-title" class="text-2xl font-bold text-slate-800 mb-2">To'lov amalga oshmadi</h2>
            <p id="error-message" class="text-slate-600 mb-6" role="alert" aria-live="assertive">
                To'lovni amalga oshirishda xatolik yuz berdi. Iltimos, qayta urinib ko'ring.
            </p>

            <div class="flex gap-3">
                <button id="retry-payment-btn"
                    class="flex-1 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors"
                    aria-label="To'lovni qayta urinish">
                    Qayta urinish
                </button>
                <button id="close-error-btn"
                    class="flex-1 bg-slate-200 text-slate-700 font-bold py-3 px-6 rounded-lg hover:bg-slate-300 transition-colors"
                    aria-label="Xato oynasini yopish">
                    Bekor qilish
                </button>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div id="order-details-modal"
        class="fixed inset-0 bg-black bg-opacity-50 z-[10000] hidden items-center justify-center" role="dialog"
        aria-modal="true" aria-labelledby="order-details-modal-title">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex flex-col">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-6 border-b border-slate-200 sticky top-0 bg-white z-10">
                    <h2 id="order-details-modal-title" class="text-2xl font-bold text-slate-800">Buyurtma tafsilotlari
                        üìã</h2>
                    <button id="close-order-details-btn"
                        class="text-slate-400 hover:text-slate-600 text-3xl font-bold leading-none"
                        aria-label="Buyurtma tafsilotlarini yopish">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="p-6">
                    <!-- Order Number and Status -->
                    <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded-lg">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-slate-600">Buyurtma raqami:</span>
                            <span id="order-detail-number" class="text-lg font-bold text-green-700">GM123456789</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-slate-600">Sana:</span>
                            <span id="order-detail-date" class="text-sm text-slate-800">01.01.2025</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-slate-600">Holat:</span>
                            <span id="order-detail-status"
                                class="px-3 py-1 rounded-full text-xs font-semibold">Kutilmoqda</span>
                        </div>
                    </div>

                    <!-- Customer Info -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-lg mb-3 text-slate-800">Mijoz ma'lumotlari</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-slate-600">Ism:</span>
                                <span id="order-detail-customer-name" class="text-slate-800 font-medium">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-slate-600">Telefon:</span>
                                <span id="order-detail-customer-phone" class="text-slate-800 font-medium">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-slate-600">Email:</span>
                                <span id="order-detail-customer-email" class="text-slate-800 font-medium">-</span>
                            </div>
                            <div class="flex justify-between items-start">
                                <span class="text-slate-600">Manzil:</span>
                                <span id="order-detail-customer-address"
                                    class="text-slate-800 font-medium text-right max-w-xs">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Products List -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-lg mb-3 text-slate-800">Mahsulotlar</h3>
                        <div id="order-detail-products" class="space-y-3">
                            <!-- Products will be rendered here -->
                        </div>
                    </div>

                    <!-- Total Price -->
                    <div class="mb-6 p-4 bg-slate-50 rounded-lg">
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-semibold text-slate-700">Jami:</span>
                            <span id="order-detail-total" class="text-2xl font-bold text-green-700">0 so'm</span>
                        </div>
                    </div>

                    <!-- QR Code and Certificate (for delivered orders) -->
                    <div id="order-detail-qr-certificate" class="hidden">
                        <div class="border-t border-slate-200 pt-6">
                            <h3 class="font-semibold text-lg mb-4 text-slate-800 text-center">Raqamli sertifikat va
                                QR-kod</h3>

                            <!-- QR Code -->
                            <div class="mb-6 text-center">
                                <div class="inline-block p-4 bg-white border-2 border-green-500 rounded-lg">
                                    <div id="order-detail-qr-code" class="text-8xl">
                                        <!-- QR code will be rendered here -->
                                    </div>
                                </div>
                                <p class="text-sm text-slate-500 mt-2">Daraxtingizni kuzatish uchun QR-kodni skanerlang
                                </p>
                            </div>

                            <!-- Certificate -->
                            <div
                                class="p-6 bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-300 rounded-lg">
                                <div class="text-center mb-4">
                                    <div class="text-4xl mb-2">üèÜ</div>
                                    <h4 class="text-xl font-bold text-green-800">Ekologik Sertifikat</h4>
                                </div>
                                <div id="order-detail-certificate" class="text-center text-sm text-slate-700">
                                    <!-- Certificate content will be rendered here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Product Form Modal -->
    <div id="admin-product-modal"
        class="fixed inset-0 bg-black bg-opacity-50 z-[10000] hidden items-center justify-center" role="dialog"
        aria-modal="true" aria-labelledby="admin-modal-title">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex flex-col">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-6 border-b border-slate-200 sticky top-0 bg-white z-10">
                    <h2 id="admin-modal-title" class="text-2xl font-bold text-slate-800">Yangi mahsulot qo'shish</h2>
                    <button id="close-admin-product-btn"
                        class="text-slate-400 hover:text-slate-600 text-3xl font-bold leading-none"
                        aria-label="Admin oynasini yopish">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="p-6">
                    <form id="admin-product-form" class="space-y-4">
                        <!-- Product ID -->
                        <div>
                            <label for="admin-product-id" class="block text-sm font-medium text-slate-700 mb-1">
                                Mahsulot ID <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="admin-product-id" name="id" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="chinor-daraxt">
                            <p class="text-xs text-slate-500 mt-1">Noyob identifikator (bo'sh joysiz)</p>
                            <p id="admin-product-id-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Name -->
                        <div>
                            <label for="admin-product-name" class="block text-sm font-medium text-slate-700 mb-1">
                                Mahsulot nomi <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="admin-product-name" name="name" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="Chinordan">
                            <p id="admin-product-name-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Price -->
                        <div>
                            <label for="admin-product-price" class="block text-sm font-medium text-slate-700 mb-1">
                                Narx (so'm) <span class="text-red-500">*</span>
                            </label>
                            <input type="number" id="admin-product-price" name="price" required min="0"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="150000">
                            <p id="admin-product-price-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Description -->
                        <div>
                            <label for="admin-product-description"
                                class="block text-sm font-medium text-slate-700 mb-1">
                                Tavsif <span class="text-red-500">*</span>
                            </label>
                            <textarea id="admin-product-description" name="description" required rows="3"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="Mahsulot haqida qisqacha ma'lumot"></textarea>
                            <p id="admin-product-description-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Icon -->
                        <div>
                            <label for="admin-product-icon" class="block text-sm font-medium text-slate-700 mb-1">
                                Emoji icon <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="admin-product-icon" name="icon" required maxlength="2"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="üå≥">
                            <p class="text-xs text-slate-500 mt-1">Emoji belgisi (masalan: üå≥, üå≤, üå¥)</p>
                            <p id="admin-product-icon-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Type -->
                        <div>
                            <label for="admin-product-type" class="block text-sm font-medium text-slate-700 mb-1">
                                Mahsulot turi <span class="text-red-500">*</span>
                            </label>
                            <select id="admin-product-type" name="type" required
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <option value="">Tanlang</option>
                                <option value="daraxt">Daraxt</option>
                                <option value="meva">Meva</option>
                                <option value="buta">Buta</option>
                            </select>
                            <p id="admin-product-type-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- CO2 Absorption -->
                        <div>
                            <label for="admin-product-co2" class="block text-sm font-medium text-slate-700 mb-1">
                                Yillik CO‚ÇÇ yutish (kg) <span class="text-red-500">*</span>
                            </label>
                            <input type="number" id="admin-product-co2" name="co2Absorption" required min="1"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="20">
                            <p id="admin-product-co2-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- Product Image URL -->
                        <div>
                            <label for="admin-product-image" class="block text-sm font-medium text-slate-700 mb-1">
                                Rasm URL (ixtiyoriy)
                            </label>
                            <input type="text" id="admin-product-image" name="image"
                                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                placeholder="https://example.com/image.jpg">
                            <p class="text-xs text-slate-500 mt-1">Rasm URL yoki base64 ma'lumoti</p>
                            <p id="admin-product-image-error" class="text-red-500 text-sm mt-1 hidden"></p>
                        </div>

                        <!-- In Stock Toggle -->
                        <div class="flex items-center gap-3">
                            <input type="checkbox" id="admin-product-instock" name="inStock" checked
                                class="w-5 h-5 text-green-600 border-slate-300 rounded focus:ring-2 focus:ring-green-500">
                            <label for="admin-product-instock" class="text-sm font-medium text-slate-700">
                                Omborda mavjud
                            </label>
                        </div>

                        <!-- Submit Button -->
                        <div class="pt-4 flex gap-3">
                            <button type="submit"
                                class="flex-1 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition-colors">
                                <span id="admin-submit-text">Saqlash</span>
                            </button>
                            <button type="button" id="admin-cancel-btn"
                                class="flex-1 bg-slate-200 text-slate-700 font-bold py-3 px-6 rounded-lg hover:bg-slate-300 transition-colors">
                                Bekor qilish
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer class="border-t border-green-200 mt-12">
        <div class="container mx-auto px-6 py-8 text-center text-slate-500">
            <p>&copy; 2025 GreenMarket. Barcha huquqlar himoyalangan.</p>
        </div>
    </footer>

    <script>
        // @ts-nocheck
        /* eslint-disable */
        let currentLang = localStorage.getItem('lang') || 'uz';

        function changeLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            document.documentElement.lang = lang;

            // Til tugmalarini yangilash
            document.getElementById('lang-uz-btn').classList.toggle('active', lang === 'uz');
            document.getElementById('lang-ru-btn').classList.toggle('active', lang === 'ru');
            document.getElementById('lang-en-btn').classList.toggle('active', lang === 'en');

            // Barcha elementlarni tarjima qilish
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const keys = key.split('.');
                let text = translations[lang];
                for (let k of keys) text = text?.[k];
                if (text) el.textContent = text;
            });
        }

        // Sahifa yuklanganda til sozlamalarini qo'llash
        window.addEventListener('DOMContentLoaded', () => {
            changeLanguage(currentLang);
        });

        // Tarjimalar obyekti
        const translations = {
            uz: {
                title: "GreenMarket - Yashil Kelajak Uchun Raqamli Platforma",
                header: {
                    home: "Bosh sahifa",
                    greenShop: "Yashil Do'kon",
                    kitchenGarden: "Oshxona Bog'i",
                    catalog: "Mahsulotlar katalogi",
                    sadaqah: "Yashil Jamg'arma",
                    seasonalTips: "Mavsumiy Eslatgich",
                    neighborhoodRating: "Mahalla Reytingi",
                    greenCredit: "Kredit va Sug'urta",
                    kidsZone: "Bolalar Zonasi",
                    greenNews: "Yangiliklar",
                    howItWorks: "Qanday ishlaydi",
                    aiAdvisor: "AI Maslahatchi",
                    orders: "Mening buyurtmalarim",
                    contact: "Aloqa"
                },
                hero: {
                    title: "Yashil kelajakni",
                    subtitle: "bugundan boshlab birga quramiz.",
                    description: "GreenMarket - bu daraxt ekishni osonlashtiruvchi, tabiatga o'z hissangizni qo'shishga yordam beruvchi va ekologik mas'uliyatni rag'batlantiruvchi raqamli platforma.",
                    viewProducts: "Mahsulotlarni ko'rish"
                },
                greenShop: {
                    title: "Yashil Do'kon",
                    subtitle: "Tabiatga g'amxo'rlik qilish uchun barcha kerakli narsalar bir joyda",
                    trees: "Daraxtlar",
                    seedlings: "Ko'chatlar",
                    seeds: "Urug'lar",
                    pots: "Idishlar",
                    fertilizers: "O'g'itlar",
                    decor: "Dekor va Aksessuarlar",
                    addToCart: "Savatga",
                    products: {
                        appleTree: { name: "Olma daraxti", desc: "Mevali daraxt, yuqori hosil", price: "50,000 so'm" },
                        pearTree: { name: "Nok daraxti", desc: "Shirin mevali daraxt", price: "40,000 so'm" },
                        apricotTree: { name: "O'rik daraxti", desc: "Mazali mevali daraxt", price: "30,000 so'm" },
                        cherryTree: { name: "Gilos daraxti", desc: "Mazali mevali daraxt", price: "30,000 so'm" },
                        tomatoSeedling: { name: "Pomidor ko'chati", desc: "Yuqori hosilli nav", price: "5,000 so'm" },
                        cucumberSeedling: { name: "Bodring ko'chati", desc: "Tez o'sadigan", price: "4,000 so'm" },
                        pepperSeedling: { name: "Qalampir ko'chati", desc: "Shirin qalampir", price: "6,000 so'm" },
                        eggplantSeedling: { name: "Baqlajon ko'chati", desc: "Yirik mevali", price: "5,500 so'm" },
                        carrotSeed: { name: "Sabzi urug'i", desc: "Tez o'sadigan", price: "3,000 so'm" },
                        onionSeed: { name: "Piyoz urug'i", desc: "Yuqori hosilli", price: "2,500 so'm" },
                        flowerSeed: { name: "Gul urug'i (aralash)", desc: "Rangli gullar", price: "8,000 so'm" },
                        grassSeed: { name: "Maysazor urug'i", desc: "Yashil maysazor", price: "15,000 so'm" },
                        smallPot: { name: "Plastik idish (kichik)", desc: "15cm diametr", price: "8,000 so'm" },
                        mediumPot: { name: "Plastik idish (o'rta)", desc: "25cm diametr", price: "15,000 so'm" },
                        clayPot: { name: "Sopol idish", desc: "Chiroyli dizayn", price: "35,000 so'm" },
                        hangingPot: { name: "Osilgan idish", desc: "Zanjir bilan", price: "45,000 so'm" },
                        organicFertilizer: { name: "Organik o'g'it (1kg)", desc: "Tabiiy, xavfsiz", price: "12,000 so'm" },
                        mineralFertilizer: { name: "Mineral o'g'it (500g)", desc: "NPK kompleks", price: "18,000 so'm" },
                        liquidFertilizer: { name: "Suyuq o'g'it (1L)", desc: "Tez ta'sir qiluvchi", price: "25,000 so'm" },
                        compost: { name: "Kompost (5kg)", desc: "Tayyorlangan", price: "20,000 so'm" },
                        decorStones: { name: "Dekorativ toshlar (1kg)", desc: "Rangli toshlar", price: "10,000 so'm" },
                        plantLabels: { name: "O'simlik yorliqlari (10ta)", desc: "Plastik yorliqlar", price: "5,000 so'm" },
                        wateringCan: { name: "Sug'orish idishi", desc: "2L sig'im", price: "22,000 so'm" },
                        gardenScissors: { name: "Bog' qaychi", desc: "O'tkir, ergonomik", price: "35,000 so'm" }
                    }
                },
                kitchenGarden: {
                    title: "Oshxona Bog'i",
                    subtitle: "Rayhon, ukrop, yalpiz - oshxonangizda doim yangi ko'kat!",
                    suitablePlants: "Oshxonaga mos o'simliklar",
                    withRecipe: "Savatga + Retsept",
                    todaysCooking: "Bugun nima osh qilamiz?",
                    recipeDescription: "Retsept tanlang, kerakli ko'katlar avtomatik savatga qo'shiladi!",
                    viewAllRecipes: "Barcha retseptlarni ko'rish (50+)",
                    kitchenSet: "Oshxona Bog'i To'plami",
                    getSet: "To'plamni olish",
                    tips: "Oshxona bog'i uchun maslahatlar",
                    herbsRecipe: "Ko'kat + Retsept",
                    requiredHerbs: "Kerakli ko'katlar:",
                    recipe1Name: "O'zbek Sho'rvasi",
                    recipe1Time: "4 kishi uchun, 45 daqiqa",
                    recipe1Herbs: ["Rayhon - 1 bog'lam", "Ukrop - 1 bog'lam", "Ko'k piyoz - 1 bog'lam"],
                    recipe2Name: "Yashil Salat",
                    recipe2Time: "2 kishi uchun, 15 daqiqa",
                    recipe2Herbs: ["Rayhon - 1 bog'lam", "Yalpiz - 1 bog'lam", "Cherry pomidor - 10 dona"],
                    recipe3Name: "Pasta Primavera",
                    recipe3Time: "3 kishi uchun, 30 daqiqa",
                    recipe3Herbs: ["Rayhon - 1 bog'lam", "Cherry pomidor - 15 dona", "Petrushka - 1 bog'lam"],
                    setDescription: "Barcha kerakli ko'katlar bir to'plamda! Kichik idishlar bilan birga.",
                    setHerbs: ["Rayhon", "Ukrop", "Yalpiz", "Cherry pomidor"],
                    setOldPrice: "Alohida: 33,000 so'm",
                    setNewPrice: "25,000 so'm",
                    setSaving: "24% tejash!",
                    setBonus: "Bonus: 10 ta oshxona retsepti PDF formatda bepul!",
                    tipsTitle: "Oshxona bog'i uchun maslahatlar",
                    tip1Title: "Yorug'lik",
                    tip1Text: "Deraza yoniga qo'ying, kuniga 4-6 soat yorug'lik kerak",
                    tip2Title: "Sug'orish",
                    tip2Text: "Tuproq quriganda sug'oring, ortiqcha suv bermaslik",
                    tip3Title: "Yig'ish",
                    tip3Text: "Yuqori qismidan kesib oling, yangi novdalar o'sadi"
                },
                catalog: {
                    title: "Mahsulotlar katalogi",
                    subtitle: "Sizning hududingizga mos keladigan ba'zi o'simlik turlari.",
                    searchPlaceholder: "Mahsulot nomini kiriting...",
                    minPrice: "Minimal narx (so'm)",
                    maxPrice: "Maksimal narx (so'm)",
                    productType: "Mahsulot turi",
                    all: "Barchasi",
                    tree: "Daraxt",
                    fruit: "Meva",
                    bush: "Buta",
                    clear: "Tozalash",
                    noResults: "Natija topilmadi",
                    tryAgain: "Boshqa qidiruv so'zi yoki filtrlarni sinab ko'ring"
                },
                footer: {
                    copyright: "¬© 2025 GreenMarket. Barcha huquqlar himoyalangan."
                },
                grandmaStories: {
                    title: "Buvilarimizning bog'dorchilik sirlari",
                    subtitle: "O'zbek tilida qisqa hikoyalar - avloddan avlodga o'tgan tajribalar",
                    story1Title: "Oy nurida sug'orish sirri",
                    story1Text: "Buvim aytardi: 'Bog'ni to'lin oy kechasida sug'orma, o'simliklar ko'p suv ichib, ildizi chiriydi. Yangi oy paytida sug'or, o'simlik kuchli o'sadi.' Men 40 yil shunday qilaman, hech qachon xato bo'lmagan.",
                    story1Author: "Toshkent, Chilonzor - Fotima opa, 68 yosh",
                    story2Title: "Qo'shni daraxtlar do'stligi",
                    story2Text: "Otam o'rgatgan: 'Olma bilan nok yonma-yon ek, ular do'st. Lekin o'rik va shaftoli uzoqroq ek, ular raqib.' Haqiqatan ham, do'st daraxtlar yonma-yon yaxshi o'sadi, bir-biriga yordam beradi.",
                    story2Author: "Samarqand - Aziz aka, 72 yosh",
                    story3Title: "Tuxum po'stlog'i - eng yaxshi o'g'it",
                    story3Text: "Onam har doim tuxum po'stlog'ini yig'ib, maydalab, tuproqqa qo'shardi. 'Bu eng yaxshi kaltsiy, daraxt kuchli bo'ladi' derdi. Hozir men ham shunday qilaman, pomidorim bozordagidan yaxshiroq.",
                    story3Author: "Farg'ona - Dilbar opa, 65 yosh",
                    readMore: "To'liq o'qish ‚Üí",
                    readAll: "Barcha hikoyalarni o'qish (50+)",
                    shareTitle: "O'z hikoyangizni ulashing!",
                    shareSubtitle: "Sizning oilangizda qanday bog'dorchilik sirlari bor?",
                    storyTitleLabel: "Hikoya sarlavhasi",
                    storyTitlePlaceholder: "Masalan: Buvimning pomidor ekish usuli",
                    storyTextLabel: "Hikoya matni",
                    storyTextPlaceholder: "Hikoyangizni yozing...",
                    nameLabel: "Ismingiz",
                    namePlaceholder: "Masalan: Fotima opa",
                    cityLabel: "Shahar",
                    cityPlaceholder: "Masalan: Toshkent",
                    submitBtn: "Hikoyani yuborish"
                }
            },
            en: {
                title: "GreenMarket - Digital Platform for a Green Future",
                header: {
                    home: "Home",
                    greenShop: "Green Shop",
                    kitchenGarden: "Kitchen Garden",
                    catalog: "Product Catalog",
                    sadaqah: "Green Fund",
                    seasonalTips: "Seasonal Reminder",
                    neighborhoodRating: "Neighborhood Rating",
                    greenCredit: "Credit & Insurance",
                    kidsZone: "Kids Zone",
                    greenNews: "News",
                    howItWorks: "How It Works",
                    aiAdvisor: "AI Advisor",
                    orders: "My Orders",
                    contact: "Contact"
                },
                hero: {
                    title: "Building a green future",
                    subtitle: "together starting today.",
                    description: "GreenMarket is a digital platform that makes tree planting easy, helps you contribute to nature, and encourages environmental responsibility.",
                    viewProducts: "View Products"
                },
                greenShop: {
                    title: "Green Shop",
                    subtitle: "Everything you need to care for nature in one place",
                    trees: "Trees",
                    seedlings: "Seedlings",
                    seeds: "Seeds",
                    pots: "Pots",
                    fertilizers: "Fertilizers",
                    decor: "Decor & Accessories",
                    addToCart: "Add to Cart",
                    products: {
                        appleTree: { name: "Apple Tree", desc: "Fruit tree, high yield", price: "50,000 sum" },
                        pearTree: { name: "Pear Tree", desc: "Sweet fruit tree", price: "40,000 sum" },
                        apricotTree: { name: "Apricot Tree", desc: "Delicious fruit tree", price: "30,000 sum" },
                        cherryTree: { name: "Cherry Tree", desc: "Tasty fruit tree", price: "30,000 sum" },
                        tomatoSeedling: { name: "Tomato Seedling", desc: "High yield variety", price: "5,000 sum" },
                        cucumberSeedling: { name: "Cucumber Seedling", desc: "Fast growing", price: "4,000 sum" },
                        pepperSeedling: { name: "Pepper Seedling", desc: "Sweet pepper", price: "6,000 sum" },
                        eggplantSeedling: { name: "Eggplant Seedling", desc: "Large fruit", price: "5,500 sum" },
                        carrotSeed: { name: "Carrot Seeds", desc: "Fast growing", price: "3,000 sum" },
                        onionSeed: { name: "Onion Seeds", desc: "High yield", price: "2,500 sum" },
                        flowerSeed: { name: "Flower Seeds (mixed)", desc: "Colorful flowers", price: "8,000 sum" },
                        grassSeed: { name: "Lawn Grass Seeds", desc: "Green lawn", price: "15,000 sum" },
                        smallPot: { name: "Plastic Pot (small)", desc: "15cm diameter", price: "8,000 sum" },
                        mediumPot: { name: "Plastic Pot (medium)", desc: "25cm diameter", price: "15,000 sum" },
                        clayPot: { name: "Clay Pot", desc: "Beautiful design", price: "35,000 sum" },
                        hangingPot: { name: "Hanging Pot", desc: "With chain", price: "45,000 sum" },
                        organicFertilizer: { name: "Organic Fertilizer (1kg)", desc: "Natural, safe", price: "12,000 sum" },
                        mineralFertilizer: { name: "Mineral Fertilizer (500g)", desc: "NPK complex", price: "18,000 sum" },
                        liquidFertilizer: { name: "Liquid Fertilizer (1L)", desc: "Fast acting", price: "25,000 sum" },
                        compost: { name: "Compost (5kg)", desc: "Ready to use", price: "20,000 sum" },
                        decorStones: { name: "Decorative Stones (1kg)", desc: "Colored stones", price: "10,000 sum" },
                        plantLabels: { name: "Plant Labels (10pcs)", desc: "Plastic labels", price: "5,000 sum" },
                        wateringCan: { name: "Watering Can", desc: "2L capacity", price: "22,000 sum" },
                        gardenScissors: { name: "Garden Scissors", desc: "Sharp, ergonomic", price: "35,000 sum" }
                    }
                },
                kitchenGarden: {
                    title: "Kitchen Garden",
                    subtitle: "Basil, dill, mint - always fresh herbs in your kitchen!",
                    suitablePlants: "Plants suitable for kitchen",
                    withRecipe: "Add to Cart + Recipe",
                    todaysCooking: "What are we cooking today?",
                    recipeDescription: "Choose a recipe, necessary herbs will be automatically added to cart!",
                    viewAllRecipes: "View all recipes (50+)",
                    kitchenSet: "Kitchen Garden Set",
                    getSet: "Get the Set",
                    tips: "Tips for kitchen garden",
                    herbsRecipe: "Herbs + Recipe",
                    requiredHerbs: "Required herbs:",
                    recipe1Name: "Uzbek Shorva",
                    recipe1Time: "4 servings, 45 minutes",
                    recipe1Herbs: ["Basil - 1 bunch", "Dill - 1 bunch", "Green onion - 1 bunch"],
                    recipe2Name: "Green Salad",
                    recipe2Time: "2 servings, 15 minutes",
                    recipe2Herbs: ["Basil - 1 bunch", "Mint - 1 bunch", "Cherry tomatoes - 10 pcs"],
                    recipe3Name: "Pasta Primavera",
                    recipe3Time: "3 servings, 30 minutes",
                    recipe3Herbs: ["Basil - 1 bunch", "Cherry tomatoes - 15 pcs", "Parsley - 1 bunch"],
                    setDescription: "All necessary herbs in one set! With small pots included.",
                    setHerbs: ["Basil", "Dill", "Mint", "Cherry tomatoes"],
                    setOldPrice: "Separately: 33,000 sum",
                    setNewPrice: "25,000 sum",
                    setSaving: "24% savings!",
                    setBonus: "Bonus: 10 kitchen recipes in PDF format for free!",
                    tipsTitle: "Tips for kitchen garden",
                    tip1Title: "Light",
                    tip1Text: "Place near window, needs 4-6 hours of light daily",
                    tip2Title: "Watering",
                    tip2Text: "Water when soil is dry, don't overwater",
                    tip3Title: "Harvesting",
                    tip3Text: "Cut from the top, new shoots will grow"
                },
                catalog: {
                    title: "Product Catalog",
                    subtitle: "Some plant types suitable for your area.",
                    searchPlaceholder: "Enter product name...",
                    minPrice: "Minimum price (sum)",
                    maxPrice: "Maximum price (sum)",
                    productType: "Product type",
                    all: "All",
                    tree: "Tree",
                    fruit: "Fruit",
                    bush: "Bush",
                    clear: "Clear",
                    noResults: "No results found",
                    tryAgain: "Try another search term or filters"
                },
                footer: {
                    copyright: "¬© 2025 GreenMarket. All rights reserved."
                },
                grandmaStories: {
                    title: "Grandmothers' Gardening Secrets",
                    subtitle: "Short stories - experiences passed down from generation to generation",
                    story1Title: "The secret of watering by moonlight",
                    story1Text: "My grandmother used to say: 'Don't water the garden on a full moon night, plants drink too much water and their roots rot. Water during the new moon, the plant grows strong.' I've been doing this for 40 years, never been wrong.",
                    story1Author: "Tashkent, Chilanzar - Fotima opa, 68 years old",
                    story2Title: "Friendship of neighboring trees",
                    story2Text: "My father taught: 'Plant apple and pear side by side, they are friends. But plant apricot and peach further apart, they are rivals.' Indeed, friendly trees grow well side by side, helping each other.",
                    story2Author: "Samarkand - Aziz aka, 72 years old",
                    story3Title: "Eggshell - the best fertilizer",
                    story3Text: "My mother always collected eggshells, crushed them, and added them to the soil. 'This is the best calcium, the tree will be strong' she said. Now I do the same, my tomatoes are better than those in the market.",
                    story3Author: "Fergana - Dilbar opa, 65 years old",
                    readMore: "Read more ‚Üí",
                    readAll: "Read all stories (50+)",
                    shareTitle: "Share your story!",
                    shareSubtitle: "What gardening secrets does your family have?",
                    storyTitleLabel: "Story title",
                    storyTitlePlaceholder: "Example: My grandmother's tomato planting method",
                    storyTextLabel: "Story text",
                    storyTextPlaceholder: "Write your story...",
                    nameLabel: "Your name",
                    namePlaceholder: "Example: Fotima opa",
                    cityLabel: "City",
                    cityPlaceholder: "Example: Tashkent",
                    submitBtn: "Submit story"
                }
            },
            ru: {
                title: "GreenMarket - –¶–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∑–µ–ª–µ–Ω–æ–≥–æ –±—É–¥—É—â–µ–≥–æ",
                header: {
                    home: "–ì–ª–∞–≤–Ω–∞—è",
                    greenShop: "–ó–µ–ª–µ–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω",
                    kitchenGarden: "–ö—É—Ö–æ–Ω–Ω—ã–π —Å–∞–¥",
                    catalog: "–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
                    sadaqah: "–ó–µ–ª–µ–Ω—ã–π —Ñ–æ–Ω–¥",
                    seasonalTips: "–°–µ–∑–æ–Ω–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è",
                    neighborhoodRating: "–†–µ–π—Ç–∏–Ω–≥ —Ä–∞–π–æ–Ω–∞",
                    greenCredit: "–ö—Ä–µ–¥–∏—Ç –∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ",
                    kidsZone: "–î–µ—Ç—Å–∫–∞—è –∑–æ–Ω–∞",
                    greenNews: "–ù–æ–≤–æ—Å—Ç–∏",
                    howItWorks: "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç",
                    aiAdvisor: "AI –°–æ–≤–µ—Ç–Ω–∏–∫",
                    orders: "–ú–æ–∏ –∑–∞–∫–∞–∑—ã",
                    contact: "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
                },
                hero: {
                    title: "–°—Ç—Ä–æ–∏–º –∑–µ–ª–µ–Ω–æ–µ –±—É–¥—É—â–µ–µ",
                    subtitle: "–≤–º–µ—Å—Ç–µ –Ω–∞—á–∏–Ω–∞—è —Å —Å–µ–≥–æ–¥–Ω—è.",
                    description: "GreenMarket - —ç—Ç–æ —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ—Å–∞–¥–∫—É –¥–µ—Ä–µ–≤—å–µ–≤, –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ –ø—Ä–∏—Ä–æ–¥—É –∏ –ø–æ–æ—â—Ä—è–µ—Ç —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.",
                    viewProducts: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã"
                },
                greenShop: {
                    title: "–ó–µ–ª–µ–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω",
                    subtitle: "–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∑–∞–±–æ—Ç—ã –æ –ø—Ä–∏—Ä–æ–¥–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ",
                    trees: "–î–µ—Ä–µ–≤—å—è",
                    seedlings: "–°–∞–∂–µ–Ω—Ü—ã",
                    seeds: "–°–µ–º–µ–Ω–∞",
                    pots: "–ì–æ—Ä—à–∫–∏",
                    fertilizers: "–£–¥–æ–±—Ä–µ–Ω–∏—è",
                    decor: "–î–µ–∫–æ—Ä –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã",
                    addToCart: "–í –∫–æ—Ä–∑–∏–Ω—É",
                    products: {
                        appleTree: { name: "–Ø–±–ª–æ–Ω—è", desc: "–ü–ª–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–∂–∞–π", price: "50,000 —Å—É–º" },
                        pearTree: { name: "–ì—Ä—É—à–∞", desc: "–°–ª–∞–¥–∫–æ–µ –ø–ª–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ", price: "40,000 —Å—É–º" },
                        apricotTree: { name: "–ê–±—Ä–∏–∫–æ—Å", desc: "–í–∫—É—Å–Ω–æ–µ –ø–ª–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ", price: "30,000 —Å—É–º" },
                        cherryTree: { name: "–í–∏—à–Ω—è", desc: "–í–∫—É—Å–Ω–æ–µ –ø–ª–æ–¥–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ", price: "30,000 —Å—É–º" },
                        tomatoSeedling: { name: "–†–∞—Å—Å–∞–¥–∞ –ø–æ–º–∏–¥–æ—Ä–æ–≤", desc: "–í—ã—Å–æ–∫–æ—É—Ä–æ–∂–∞–π–Ω—ã–π —Å–æ—Ä—Ç", price: "5,000 —Å—É–º" },
                        cucumberSeedling: { name: "–†–∞—Å—Å–∞–¥–∞ –æ–≥—É—Ä—Ü–æ–≤", desc: "–ë—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç—É—â–∏–π", price: "4,000 —Å—É–º" },
                        pepperSeedling: { name: "–†–∞—Å—Å–∞–¥–∞ –ø–µ—Ä—Ü–∞", desc: "–°–ª–∞–¥–∫–∏–π –ø–µ—Ä–µ—Ü", price: "6,000 —Å—É–º" },
                        eggplantSeedling: { name: "–†–∞—Å—Å–∞–¥–∞ –±–∞–∫–ª–∞–∂–∞–Ω–æ–≤", desc: "–ö—Ä—É–ø–Ω–æ–ø–ª–æ–¥–Ω—ã–π", price: "5,500 —Å—É–º" },
                        carrotSeed: { name: "–°–µ–º–µ–Ω–∞ –º–æ—Ä–∫–æ–≤–∏", desc: "–ë—ã—Å—Ç—Ä–æ—Ä–∞—Å—Ç—É—â–∏–π", price: "3,000 —Å—É–º" },
                        onionSeed: { name: "–°–µ–º–µ–Ω–∞ –ª—É–∫–∞", desc: "–í—ã—Å–æ–∫–æ—É—Ä–æ–∂–∞–π–Ω—ã–π", price: "2,500 —Å—É–º" },
                        flowerSeed: { name: "–°–µ–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤ (—Å–º–µ—Å—å)", desc: "–†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–µ —Ü–≤–µ—Ç—ã", price: "8,000 —Å—É–º" },
                        grassSeed: { name: "–°–µ–º–µ–Ω–∞ –≥–∞–∑–æ–Ω–Ω–æ–π —Ç—Ä–∞–≤—ã", desc: "–ó–µ–ª–µ–Ω—ã–π –≥–∞–∑–æ–Ω", price: "15,000 —Å—É–º" },
                        smallPot: { name: "–ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –≥–æ—Ä—à–æ–∫ (–º–∞–ª–µ–Ω—å–∫–∏–π)", desc: "15—Å–º –¥–∏–∞–º–µ—Ç—Ä", price: "8,000 —Å—É–º" },
                        mediumPot: { name: "–ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –≥–æ—Ä—à–æ–∫ (—Å—Ä–µ–¥–Ω–∏–π)", desc: "25—Å–º –¥–∏–∞–º–µ—Ç—Ä", price: "15,000 —Å—É–º" },
                        clayPot: { name: "–ì–ª–∏–Ω—è–Ω—ã–π –≥–æ—Ä—à–æ–∫", desc: "–ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω", price: "35,000 —Å—É–º" },
                        hangingPot: { name: "–ü–æ–¥–≤–µ—Å–Ω–æ–π –≥–æ—Ä—à–æ–∫", desc: "–° —Ü–µ–ø–æ—á–∫–æ–π", price: "45,000 —Å—É–º" },
                        organicFertilizer: { name: "–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (1–∫–≥)", desc: "–ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ", price: "12,000 —Å—É–º" },
                        mineralFertilizer: { name: "–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (500–≥)", desc: "NPK –∫–æ–º–ø–ª–µ–∫—Å", price: "18,000 —Å—É–º" },
                        liquidFertilizer: { name: "–ñ–∏–¥–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (1–ª)", desc: "–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ", price: "25,000 —Å—É–º" },
                        compost: { name: "–ö–æ–º–ø–æ—Å—Ç (5–∫–≥)", desc: "–ì–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é", price: "20,000 —Å—É–º" },
                        decorStones: { name: "–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–∞–º–Ω–∏ (1–∫–≥)", desc: "–¶–≤–µ—Ç–Ω—ã–µ –∫–∞–º–Ω–∏", price: "10,000 —Å—É–º" },
                        plantLabels: { name: "–≠—Ç–∏–∫–µ—Ç–∫–∏ –¥–ª—è —Ä–∞—Å—Ç–µ–Ω–∏–π (10—à—Ç)", desc: "–ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–µ —ç—Ç–∏–∫–µ—Ç–∫–∏", price: "5,000 —Å—É–º" },
                        wateringCan: { name: "–õ–µ–π–∫–∞", desc: "–û–±—ä–µ–º 2–ª", price: "22,000 —Å—É–º" },
                        gardenScissors: { name: "–°–∞–¥–æ–≤—ã–µ –Ω–æ–∂–Ω–∏—Ü—ã", desc: "–û—Å—Ç—Ä—ã–µ, —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω—ã–µ", price: "35,000 —Å—É–º" }
                    }
                },
                kitchenGarden: {
                    title: "–ö—É—Ö–æ–Ω–Ω—ã–π —Å–∞–¥",
                    subtitle: "–ë–∞–∑–∏–ª–∏–∫, —É–∫—Ä–æ–ø, –º—è—Ç–∞ - –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∞—è –∑–µ–ª–µ–Ω—å –Ω–∞ –≤–∞—à–µ–π –∫—É—Ö–Ω–µ!",
                    suitablePlants: "–†–∞—Å—Ç–µ–Ω–∏—è –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –∫—É—Ö–Ω–∏",
                    withRecipe: "–í –∫–æ—Ä–∑–∏–Ω—É + –†–µ—Ü–µ–ø—Ç",
                    todaysCooking: "–ß—Ç–æ –≥–æ—Ç–æ–≤–∏–º —Å–µ–≥–æ–¥–Ω—è?",
                    recipeDescription: "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—Ü–µ–ø—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∑–µ–ª–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É!",
                    viewAllRecipes: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã (50+)",
                    kitchenSet: "–ù–∞–±–æ—Ä –ö—É—Ö–æ–Ω–Ω—ã–π —Å–∞–¥",
                    getSet: "–ü–æ–ª—É—á–∏—Ç—å –Ω–∞–±–æ—Ä",
                    tips: "–°–æ–≤–µ—Ç—ã –¥–ª—è –∫—É—Ö–æ–Ω–Ω–æ–≥–æ —Å–∞–¥–∞",
                    herbsRecipe: "–ó–µ–ª–µ–Ω—å + –†–µ—Ü–µ–ø—Ç",
                    requiredHerbs: "–ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∑–µ–ª–µ–Ω—å:",
                    recipe1Name: "–£–∑–±–µ–∫—Å–∫–∞—è —à—É—Ä–ø–∞",
                    recipe1Time: "4 –ø–æ—Ä—Ü–∏–∏, 45 –º–∏–Ω—É—Ç",
                    recipe1Herbs: ["–ë–∞–∑–∏–ª–∏–∫ - 1 –ø—É—á–æ–∫", "–£–∫—Ä–æ–ø - 1 –ø—É—á–æ–∫", "–ó–µ–ª–µ–Ω—ã–π –ª—É–∫ - 1 –ø—É—á–æ–∫"],
                    recipe2Name: "–ó–µ–ª–µ–Ω—ã–π —Å–∞–ª–∞—Ç",
                    recipe2Time: "2 –ø–æ—Ä—Ü–∏–∏, 15 –º–∏–Ω—É—Ç",
                    recipe2Herbs: ["–ë–∞–∑–∏–ª–∏–∫ - 1 –ø—É—á–æ–∫", "–ú—è—Ç–∞ - 1 –ø—É—á–æ–∫", "–ß–µ—Ä—Ä–∏ –ø–æ–º–∏–¥–æ—Ä—ã - 10 —à—Ç"],
                    recipe3Name: "–ü–∞—Å—Ç–∞ –ü—Ä–∏–º–∞–≤–µ—Ä–∞",
                    recipe3Time: "3 –ø–æ—Ä—Ü–∏–∏, 30 –º–∏–Ω—É—Ç",
                    recipe3Herbs: ["–ë–∞–∑–∏–ª–∏–∫ - 1 –ø—É—á–æ–∫", "–ß–µ—Ä—Ä–∏ –ø–æ–º–∏–¥–æ—Ä—ã - 15 —à—Ç", "–ü–µ—Ç—Ä—É—à–∫–∞ - 1 –ø—É—á–æ–∫"],
                    setDescription: "–í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∑–µ–ª–µ–Ω—å –≤ –æ–¥–Ω–æ–º –Ω–∞–±–æ—Ä–µ! –° –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –≥–æ—Ä—à–∫–∞–º–∏.",
                    setHerbs: ["–ë–∞–∑–∏–ª–∏–∫", "–£–∫—Ä–æ–ø", "–ú—è—Ç–∞", "–ß–µ—Ä—Ä–∏ –ø–æ–º–∏–¥–æ—Ä—ã"],
                    setOldPrice: "–ü–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏: 33,000 —Å—É–º",
                    setNewPrice: "25,000 —Å—É–º",
                    setSaving: "–≠–∫–æ–Ω–æ–º–∏—è 24%!",
                    setBonus: "–ë–æ–Ω—É—Å: 10 –∫—É—Ö–æ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ PDF —Ñ–æ—Ä–º–∞—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!",
                    tipsTitle: "–°–æ–≤–µ—Ç—ã –¥–ª—è –∫—É—Ö–æ–Ω–Ω–æ–≥–æ —Å–∞–¥–∞",
                    tip1Title: "–û—Å–≤–µ—â–µ–Ω–∏–µ",
                    tip1Text: "–ü–æ—Å—Ç–∞–≤—å—Ç–µ —É –æ–∫–Ω–∞, –Ω—É–∂–Ω–æ 4-6 —á–∞—Å–æ–≤ —Å–≤–µ—Ç–∞ –≤ –¥–µ–Ω—å",
                    tip2Title: "–ü–æ–ª–∏–≤",
                    tip2Text: "–ü–æ–ª–∏–≤–∞–π—Ç–µ –∫–æ–≥–¥–∞ –ø–æ—á–≤–∞ –≤—ã—Å–æ—Ö–Ω–µ—Ç, –Ω–µ –ø–µ—Ä–µ–ª–∏–≤–∞–π—Ç–µ",
                    tip3Title: "–°–±–æ—Ä —É—Ä–æ–∂–∞—è",
                    tip3Text: "–°—Ä–µ–∑–∞–π—Ç–µ —Å–≤–µ—Ä—Ö—É, –≤—ã—Ä–∞—Å—Ç—É—Ç –Ω–æ–≤—ã–µ –ø–æ–±–µ–≥–∏"
                },
                catalog: {
                    title: "–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
                    subtitle: "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥—ã —Ä–∞—Å—Ç–µ–Ω–∏–π, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞.",
                    searchPlaceholder: "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞...",
                    minPrice: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (—Å—É–º)",
                    maxPrice: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (—Å—É–º)",
                    productType: "–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞",
                    all: "–í—Å–µ",
                    tree: "–î–µ—Ä–µ–≤–æ",
                    fruit: "–§—Ä—É–∫—Ç",
                    bush: "–ö—É—Å—Ç",
                    clear: "–û—á–∏—Å—Ç–∏—Ç—å",
                    noResults: "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",
                    tryAgain: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã"
                },
                footer: {
                    copyright: "¬© 2025 GreenMarket. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã."
                },
                grandmaStories: {
                    title: "–°–µ–∫—Ä–µ—Ç—ã —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–∞ –Ω–∞—à–∏—Ö –±–∞–±—É—à–µ–∫",
                    subtitle: "–ö–æ—Ä–æ—Ç–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ - –æ–ø—ã—Ç, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –∏–∑ –ø–æ–∫–æ–ª–µ–Ω–∏—è –≤ –ø–æ–∫–æ–ª–µ–Ω–∏–µ",
                    story1Title: "–°–µ–∫—Ä–µ—Ç –ø–æ–ª–∏–≤–∞ –ø—Ä–∏ –ª—É–Ω–Ω–æ–º —Å–≤–µ—Ç–µ",
                    story1Text: "–ú–æ—è –±–∞–±—É—à–∫–∞ –≥–æ–≤–æ—Ä–∏–ª–∞: '–ù–µ –ø–æ–ª–∏–≤–∞–π —Å–∞–¥ –≤ –ø–æ–ª–Ω–æ–ª—É–Ω–∏–µ, —Ä–∞—Å—Ç–µ–Ω–∏—è –ø—å—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–æ–¥—ã –∏ –∏—Ö –∫–æ—Ä–Ω–∏ –≥–Ω–∏—é—Ç. –ü–æ–ª–∏–≤–∞–π –≤ –Ω–æ–≤–æ–ª—É–Ω–∏–µ, —Ä–∞—Å—Ç–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏ —Å–∏–ª—å–Ω—ã–º.' –Ø –¥–µ–ª–∞—é —Ç–∞–∫ —É–∂–µ 40 –ª–µ—Ç, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—à–∏–±–∞–ª–∞—Å—å.",
                    story1Author: "–¢–∞—à–∫–µ–Ω—Ç, –ß–∏–ª–∞–Ω–∑–∞—Ä - –§–æ—Ç–∏–º–∞ –æ–ø–∞, 68 –ª–µ—Ç",
                    story2Title: "–î—Ä—É–∂–±–∞ —Å–æ—Å–µ–¥–Ω–∏—Ö –¥–µ—Ä–µ–≤—å–µ–≤",
                    story2Text: "–û—Ç–µ—Ü —É—á–∏–ª: '–°–∞–∂–∞–π —è–±–ª–æ–Ω—é –∏ –≥—Ä—É—à—É —Ä—è–¥–æ–º, –æ–Ω–∏ –¥—Ä—É–∑—å—è. –ù–æ –∞–±—Ä–∏–∫–æ—Å –∏ –ø–µ—Ä—Å–∏–∫ —Å–∞–∂–∞–π –ø–æ–¥–∞–ª—å—à–µ, –æ–Ω–∏ —Å–æ–ø–µ—Ä–Ω–∏–∫–∏.' –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –¥—Ä—É–∂–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è —Ö–æ—Ä–æ—à–æ —Ä–∞—Å—Ç—É—Ç —Ä—è–¥–æ–º, –ø–æ–º–æ–≥–∞—è –¥—Ä—É–≥ –¥—Ä—É–≥—É.",
                    story2Author: "–°–∞–º–∞—Ä–∫–∞–Ω–¥ - –ê–∑–∏–∑ –∞–∫–∞, 72 –≥–æ–¥–∞",
                    story3Title: "–Ø–∏—á–Ω–∞—è —Å–∫–æ—Ä–ª—É–ø–∞ - –ª—É—á—à–µ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ",
                    story3Text: "–ú–∞–º–∞ –≤—Å–µ–≥–¥–∞ —Å–æ–±–∏—Ä–∞–ª–∞ —è–∏—á–Ω—É—é —Å–∫–æ—Ä–ª—É–ø—É, –∏–∑–º–µ–ª—å—á–∞–ª–∞ –∏ –¥–æ–±–∞–≤–ª—è–ª–∞ –≤ –ø–æ—á–≤—É. '–≠—Ç–æ –ª—É—á—à–∏–π –∫–∞–ª—å—Ü–∏–π, –¥–µ—Ä–µ–≤–æ –±—É–¥–µ—Ç –∫—Ä–µ–ø–∫–∏–º' –≥–æ–≤–æ—Ä–∏–ª–∞ –æ–Ω–∞. –¢–µ–ø–µ—Ä—å —è –¥–µ–ª–∞—é —Ç–∞–∫ –∂–µ, –º–æ–∏ –ø–æ–º–∏–¥–æ—Ä—ã –ª—É—á—à–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö.",
                    story3Author: "–§–µ—Ä–≥–∞–Ω–∞ - –î–∏–ª–±–∞—Ä –æ–ø–∞, 65 –ª–µ—Ç",
                    readMore: "–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí",
                    readAll: "–ß–∏—Ç–∞—Ç—å –≤—Å–µ –∏—Å—Ç–æ—Ä–∏–∏ (50+)",
                    shareTitle: "–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π!",
                    shareSubtitle: "–ö–∞–∫–∏–µ —Å–µ–∫—Ä–µ—Ç—ã —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–∞ –µ—Å—Ç—å –≤ –≤–∞—à–µ–π —Å–µ–º—å–µ?",
                    storyTitleLabel: "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏",
                    storyTitlePlaceholder: "–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–µ—Ç–æ–¥ –ø–æ—Å–∞–¥–∫–∏ –ø–æ–º–∏–¥–æ—Ä–æ–≤ –º–æ–µ–π –±–∞–±—É—à–∫–∏",
                    storyTextLabel: "–¢–µ–∫—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏",
                    storyTextPlaceholder: "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∏—Å—Ç–æ—Ä–∏—é...",
                    nameLabel: "–í–∞—à–µ –∏–º—è",
                    namePlaceholder: "–ù–∞–ø—Ä–∏–º–µ—Ä: –§–æ—Ç–∏–º–∞ –æ–ø–∞",
                    cityLabel: "–ì–æ—Ä–æ–¥",
                    cityPlaceholder: "–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–∞—à–∫–µ–Ω—Ç",
                    submitBtn: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é"
                }
            }
        };

        // Joriy tilni saqlash
        let currentLanguage = localStorage.getItem('language') || 'uz';

        // Til nomlari
        const langNames = {
            uz: { flag: 'üá∫üáø', name: "O'zbek" },
            en: { flag: 'üá¨üáß', name: 'English' },
            ru: { flag: 'üá∑üá∫', name: '–†—É—Å—Å–∫–∏–π' }
        };

        // Dropdown ochish/yopish funksiyalari
        window.toggleLangDropdown = function () {
            const dropdown = document.getElementById('lang-dropdown');
            dropdown.classList.toggle('hidden');
        }

        window.toggleMobileLangDropdown = function () {
            const dropdown = document.getElementById('mobile-lang-dropdown');
            dropdown.classList.toggle('hidden');
        }

        // Dropdown tashqarisiga bosilganda yopish
        document.addEventListener('click', function (e) {
            const langBtn = document.getElementById('lang-dropdown-btn');
            const langDropdown = document.getElementById('lang-dropdown');
            const mobileLangBtn = document.getElementById('mobile-lang-dropdown-btn');
            const mobileLangDropdown = document.getElementById('mobile-lang-dropdown');

            if (langBtn && langDropdown && !langBtn.contains(e.target) && !langDropdown.contains(e.target)) {
                langDropdown.classList.add('hidden');
            }
            if (mobileLangBtn && mobileLangDropdown && !mobileLangBtn.contains(e.target) && !mobileLangDropdown.contains(e.target)) {
                mobileLangDropdown.classList.add('hidden');
            }
        });

        // Dropdown elementlarini yangilash
        function updateDropdownItems(lang) {
            const dropdown = document.getElementById('lang-dropdown');
            const mobileDropdown = document.getElementById('mobile-lang-dropdown');

            const otherLangs = ['uz', 'en', 'ru'].filter(l => l !== lang);

            // Desktop dropdown
            if (dropdown) {
                dropdown.innerHTML = otherLangs.map(l => `
                    <button onclick="changeLanguage('${l}')" id="lang-${l}"
                        class="w-full text-left px-4 py-3 hover:bg-green-50 transition-colors flex items-center gap-2 text-sm border-b border-slate-100 last:border-b-0">
                        <span>${langNames[l].flag}</span> ${langNames[l].name}
                    </button>
                `).join('');
            }

            // Mobile dropdown
            if (mobileDropdown) {
                mobileDropdown.innerHTML = otherLangs.map(l => `
                    <button onclick="changeLanguage('${l}'); toggleMobileLangDropdown();" id="mobile-lang-${l}"
                        class="w-full text-left px-4 py-3 hover:bg-green-50 transition-colors flex items-center gap-2 text-sm border-b border-slate-100 last:border-b-0">
                        <span>${langNames[l].flag}</span> ${langNames[l].name}
                    </button>
                `).join('');
            }
        }

        // Til almashtirish funksiyasi
        window.changeLanguage = function (lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);

            // Til tugmalarini yangilash
            const uzBtn = document.getElementById('lang-uz-btn');
            const ruBtn = document.getElementById('lang-ru-btn');
            const enBtn = document.getElementById('lang-en-btn');
            const activeClass = 'px-2 py-1 rounded text-xs font-medium bg-green-600 text-white hover:bg-green-700 transition-colors';
            const inactiveClass = 'px-2 py-1 rounded text-xs font-medium bg-slate-200 text-slate-600 hover:bg-slate-300 transition-colors';

            if (uzBtn) uzBtn.className = lang === 'uz' ? activeClass : inactiveClass;
            if (ruBtn) ruBtn.className = lang === 'ru' ? activeClass : inactiveClass;
            if (enBtn) enBtn.className = lang === 'en' ? activeClass : inactiveClass;

            // Sahifa tilini yangilash
            document.documentElement.lang = lang;

            // Tarjimalarni qo'llash
            applyTranslations(lang);
        }

        // Tarjimalarni qo'llash funksiyasi
        function applyTranslations(lang) {
            const t = translations[lang];

            // Title
            document.title = t.title;

            // Header navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const headerKeys = Object.keys(t.header);
            navLinks.forEach((link, index) => {
                if (headerKeys[index]) {
                    link.textContent = t.header[headerKeys[index]];
                }
            });

            // Hero section
            const heroTitle = document.querySelector('#home h1 .text-green-700');
            const heroSubtitle = document.querySelector('#home h1');
            const heroDescription = document.querySelector('#home p');
            const heroButton = document.querySelector('#home a');

            if (heroTitle) heroTitle.textContent = t.hero.title;
            if (heroSubtitle) {
                heroSubtitle.innerHTML = `<span class="text-green-700">${t.hero.title}</span> ${t.hero.subtitle}`;
            }
            if (heroDescription) heroDescription.textContent = t.hero.description;
            if (heroButton) heroButton.textContent = t.hero.viewProducts;

            // Green Shop section
            const greenShopTitle = document.querySelector('#green-shop h2');
            const greenShopSubtitle = document.querySelector('#green-shop p');
            if (greenShopTitle) greenShopTitle.innerHTML = `${t.greenShop.title} üåø`;
            if (greenShopSubtitle) greenShopSubtitle.textContent = t.greenShop.subtitle;

            // Green Shop bo'limlari
            const greenShopSections = document.querySelectorAll('#green-shop h3');
            if (greenShopSections[0]) greenShopSections[0].innerHTML = `üå≥ ${t.greenShop.trees}`;
            if (greenShopSections[1]) greenShopSections[1].innerHTML = `üå± ${t.greenShop.seedlings}`;
            if (greenShopSections[2]) greenShopSections[2].innerHTML = `üåæ ${t.greenShop.seeds}`;
            if (greenShopSections[3]) greenShopSections[3].innerHTML = `ü™¥ ${t.greenShop.pots}`;
            if (greenShopSections[4]) greenShopSections[4].innerHTML = `üß™ ${t.greenShop.fertilizers}`;
            if (greenShopSections[5]) greenShopSections[5].innerHTML = `üé® ${t.greenShop.decor}`;

            // Mahsulot nomlarini mapping qilish
            const productMapping = {
                'Olma daraxti': 'appleTree', 'Apple Tree': 'appleTree', '–Ø–±–ª–æ–Ω—è': 'appleTree',
                'Nok daraxti': 'pearTree', 'Pear Tree': 'pearTree', '–ì—Ä—É—à–∞': 'pearTree',
                "O'rik daraxti": 'apricotTree', 'Apricot Tree': 'apricotTree', '–ê–±—Ä–∏–∫–æ—Å': 'apricotTree',
                'Gilos daraxti': 'cherryTree', 'Cherry Tree': 'cherryTree', '–í–∏—à–Ω—è': 'cherryTree',
                "Pomidor ko'chati": 'tomatoSeedling', 'Tomato Seedling': 'tomatoSeedling', '–†–∞—Å—Å–∞–¥–∞ –ø–æ–º–∏–¥–æ—Ä–æ–≤': 'tomatoSeedling',
                "Bodring ko'chati": 'cucumberSeedling', 'Cucumber Seedling': 'cucumberSeedling', '–†–∞—Å—Å–∞–¥–∞ –æ–≥—É—Ä—Ü–æ–≤': 'cucumberSeedling',
                "Qalampir ko'chati": 'pepperSeedling', 'Pepper Seedling': 'pepperSeedling', '–†–∞—Å—Å–∞–¥–∞ –ø–µ—Ä—Ü–∞': 'pepperSeedling',
                "Baqlajon ko'chati": 'eggplantSeedling', 'Eggplant Seedling': 'eggplantSeedling', '–†–∞—Å—Å–∞–¥–∞ –±–∞–∫–ª–∞–∂–∞–Ω–æ–≤': 'eggplantSeedling',
                "Sabzi urug'i": 'carrotSeed', 'Carrot Seeds': 'carrotSeed', '–°–µ–º–µ–Ω–∞ –º–æ—Ä–∫–æ–≤–∏': 'carrotSeed',
                "Piyoz urug'i": 'onionSeed', 'Onion Seeds': 'onionSeed', '–°–µ–º–µ–Ω–∞ –ª—É–∫–∞': 'onionSeed',
                "Gul urug'i (aralash)": 'flowerSeed', 'Flower Seeds (mixed)': 'flowerSeed', '–°–µ–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤ (—Å–º–µ—Å—å)': 'flowerSeed',
                "Maysazor urug'i": 'grassSeed', 'Lawn Grass Seeds': 'grassSeed', '–°–µ–º–µ–Ω–∞ –≥–∞–∑–æ–Ω–Ω–æ–π —Ç—Ä–∞–≤—ã': 'grassSeed',
                'Plastik idish (kichik)': 'smallPot', 'Plastic Pot (small)': 'smallPot', '–ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –≥–æ—Ä—à–æ–∫ (–º–∞–ª–µ–Ω—å–∫–∏–π)': 'smallPot',
                "Plastik idish (o'rta)": 'mediumPot', 'Plastic Pot (medium)': 'mediumPot', '–ü–ª–∞—Å—Ç–∏–∫–æ–≤—ã–π –≥–æ—Ä—à–æ–∫ (—Å—Ä–µ–¥–Ω–∏–π)': 'mediumPot',
                'Sopol idish': 'clayPot', 'Clay Pot': 'clayPot', '–ì–ª–∏–Ω—è–Ω—ã–π –≥–æ—Ä—à–æ–∫': 'clayPot',
                'Osilgan idish': 'hangingPot', 'Hanging Pot': 'hangingPot', '–ü–æ–¥–≤–µ—Å–Ω–æ–π –≥–æ—Ä—à–æ–∫': 'hangingPot',
                "Organik o'g'it (1kg)": 'organicFertilizer', 'Organic Fertilizer (1kg)': 'organicFertilizer', '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (1–∫–≥)': 'organicFertilizer',
                "Mineral o'g'it (500g)": 'mineralFertilizer', 'Mineral Fertilizer (500g)': 'mineralFertilizer', '–ú–∏–Ω–µ—Ä–∞–ª—å–Ω–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (500–≥)': 'mineralFertilizer',
                "Suyuq o'g'it (1L)": 'liquidFertilizer', 'Liquid Fertilizer (1L)': 'liquidFertilizer', '–ñ–∏–¥–∫–æ–µ —É–¥–æ–±—Ä–µ–Ω–∏–µ (1–ª)': 'liquidFertilizer',
                'Kompost (5kg)': 'compost', 'Compost (5kg)': 'compost', '–ö–æ–º–ø–æ—Å—Ç (5–∫–≥)': 'compost',
                'Dekorativ toshlar (1kg)': 'decorStones', 'Decorative Stones (1kg)': 'decorStones', '–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–∞–º–Ω–∏ (1–∫–≥)': 'decorStones',
                "O'simlik yorliqlari (10ta)": 'plantLabels', 'Plant Labels (10pcs)': 'plantLabels', '–≠—Ç–∏–∫–µ—Ç–∫–∏ –¥–ª—è —Ä–∞—Å—Ç–µ–Ω–∏–π (10—à—Ç)': 'plantLabels',
                "Sug'orish idishi": 'wateringCan', 'Watering Can': 'wateringCan', '–õ–µ–π–∫–∞': 'wateringCan',
                "Bog' qaychi": 'gardenScissors', 'Garden Scissors': 'gardenScissors', '–°–∞–¥–æ–≤—ã–µ –Ω–æ–∂–Ω–∏—Ü—ã': 'gardenScissors'
            };

            // Barcha mahsulot kartochkalarini tarjima qilish
            document.querySelectorAll('#green-shop .stat-card').forEach(card => {
                const nameEl = card.querySelector('h4');
                const descEl = card.querySelectorAll('p')[0];
                const priceEl = card.querySelector('p.text-green-700');
                const btnEl = card.querySelector('button');

                if (nameEl) {
                    const originalName = nameEl.textContent.trim();
                    const productKey = productMapping[originalName];

                    if (productKey && t.greenShop.products[productKey]) {
                        const product = t.greenShop.products[productKey];
                        nameEl.textContent = product.name;
                        if (descEl && descEl.classList.contains('text-sm')) {
                            descEl.textContent = product.desc;
                        }
                        if (priceEl) priceEl.textContent = product.price;
                        if (btnEl) btnEl.textContent = t.greenShop.addToCart;
                    }
                }
            });

            // Kitchen Garden section
            const kitchenTitle = document.querySelector('#kitchen-garden h2');
            const kitchenSubtitle = document.querySelector('#kitchen-garden > div > p');
            if (kitchenTitle) kitchenTitle.innerHTML = `${t.kitchenGarden.title} üåøüç≥`;
            if (kitchenSubtitle) kitchenSubtitle.textContent = t.kitchenGarden.subtitle;

            // Recipes section (Bugun nima osh qilamiz?)
            const kg = t.kitchenGarden;
            const recipeTitle = document.querySelector('#kitchen-garden .border-orange-300 h3');
            const recipeDesc = document.querySelector('#kitchen-garden .border-orange-300 h3 + p');
            if (recipeTitle) recipeTitle.textContent = kg.todaysCooking;
            if (recipeDesc) recipeDesc.textContent = kg.recipeDescription;

            // Recipe cards
            const recipeCards = document.querySelectorAll('#kitchen-garden .border-orange-300 .grid > div');
            if (recipeCards[0] && kg.recipe1Name) {
                recipeCards[0].querySelector('h4').textContent = kg.recipe1Name;
                recipeCards[0].querySelector('p.text-center').textContent = kg.recipe1Time;
                recipeCards[0].querySelector('.bg-green-50 p.font-bold').textContent = kg.requiredHerbs;
                const herbs1 = recipeCards[0].querySelectorAll('.bg-green-50 ul li');
                kg.recipe1Herbs.forEach((herb, i) => { if (herbs1[i]) herbs1[i].textContent = '‚Ä¢ ' + herb; });
                recipeCards[0].querySelector('button.bg-green-600').textContent = kg.herbsRecipe;
            }
            if (recipeCards[1] && kg.recipe2Name) {
                recipeCards[1].querySelector('h4').textContent = kg.recipe2Name;
                recipeCards[1].querySelector('p.text-center').textContent = kg.recipe2Time;
                recipeCards[1].querySelector('.bg-green-50 p.font-bold').textContent = kg.requiredHerbs;
                const herbs2 = recipeCards[1].querySelectorAll('.bg-green-50 ul li');
                kg.recipe2Herbs.forEach((herb, i) => { if (herbs2[i]) herbs2[i].textContent = '‚Ä¢ ' + herb; });
                recipeCards[1].querySelector('button.bg-green-600').textContent = kg.herbsRecipe;
            }
            if (recipeCards[2] && kg.recipe3Name) {
                recipeCards[2].querySelector('h4').textContent = kg.recipe3Name;
                recipeCards[2].querySelector('p.text-center').textContent = kg.recipe3Time;
                recipeCards[2].querySelector('.bg-green-50 p.font-bold').textContent = kg.requiredHerbs;
                const herbs3 = recipeCards[2].querySelectorAll('.bg-green-50 ul li');
                kg.recipe3Herbs.forEach((herb, i) => { if (herbs3[i]) herbs3[i].textContent = '‚Ä¢ ' + herb; });
                recipeCards[2].querySelector('button.bg-green-600').textContent = kg.herbsRecipe;
            }

            // View all recipes button
            const viewAllRecipesBtn = document.querySelector('#kitchen-garden .border-orange-300 button.bg-orange-600');
            if (viewAllRecipesBtn) viewAllRecipesBtn.textContent = kg.viewAllRecipes;

            // Kitchen set - using border-green-300 selector
            const kitchenSetBox = document.querySelector('#kitchen-garden .border-green-300');
            if (kitchenSetBox) {
                const kitchenSetTitle = kitchenSetBox.querySelector('h3');
                const kitchenSetDesc = kitchenSetBox.querySelector('h3 + p');
                if (kitchenSetTitle) kitchenSetTitle.textContent = kg.kitchenSet;
                if (kitchenSetDesc) kitchenSetDesc.textContent = kg.setDescription;

                // Kitchen set herbs
                const setHerbNames = kitchenSetBox.querySelectorAll('.grid p.font-bold');
                if (kg.setHerbs) {
                    kg.setHerbs.forEach((herb, i) => { if (setHerbNames[i]) setHerbNames[i].textContent = herb; });
                }

                // Kitchen set prices
                const setOldPrice = kitchenSetBox.querySelector('p.line-through');
                const setNewPrice = kitchenSetBox.querySelector('p.text-3xl');
                const setSaving = kitchenSetBox.querySelector('p.text-green-600');
                const setBtn = kitchenSetBox.querySelector('button.bg-green-600');
                if (setOldPrice) setOldPrice.textContent = kg.setOldPrice;
                if (setNewPrice) setNewPrice.textContent = kg.setNewPrice;
                if (setSaving) setSaving.textContent = kg.setSaving;
                if (setBtn) setBtn.textContent = kg.getSet;

                // Bonus text
                const bonusP = kitchenSetBox.querySelector('.flex.items-center.gap-2.text-sm p');
                if (bonusP && kg.setBonus) bonusP.innerHTML = '<strong>Bonus:</strong> ' + kg.setBonus.replace('Bonus: ', '').replace('–ë–æ–Ω—É—Å: ', '');
            }

            // Kitchen tips
            const tipsTitle = document.querySelector('#kitchen-garden .bg-white h3');
            if (tipsTitle) tipsTitle.innerHTML = 'üí° ' + kg.tipsTitle;
            const tipCards = document.querySelectorAll('#kitchen-garden .bg-white .grid > div');
            if (tipCards[0]) {
                tipCards[0].querySelector('h4').textContent = kg.tip1Title;
                tipCards[0].querySelector('p').textContent = kg.tip1Text;
            }
            if (tipCards[1]) {
                tipCards[1].querySelector('h4').textContent = kg.tip2Title;
                tipCards[1].querySelector('p').textContent = kg.tip2Text;
            }
            if (tipCards[2]) {
                tipCards[2].querySelector('h4').textContent = kg.tip3Title;
                tipCards[2].querySelector('p').textContent = kg.tip3Text;
            }

            // Catalog section
            const catalogTitle = document.querySelector('#catalog h2');
            const catalogSubtitle = document.querySelector('#catalog > div > p');
            if (catalogTitle) catalogTitle.innerHTML = `${t.catalog.title} üå±`;
            if (catalogSubtitle) catalogSubtitle.textContent = t.catalog.subtitle;

            // Catalog search va filter
            const searchInput = document.getElementById('search-input');
            const minPriceLabel = document.querySelector('label[for="min-price-input"]');
            const maxPriceLabel = document.querySelector('label[for="max-price-input"]');
            const typeLabel = document.querySelector('label[for="type-filter-select"]');
            const clearBtn = document.getElementById('clear-filters-btn');

            if (searchInput) searchInput.placeholder = t.catalog.searchPlaceholder;
            if (minPriceLabel) minPriceLabel.textContent = t.catalog.minPrice;
            if (maxPriceLabel) maxPriceLabel.textContent = t.catalog.maxPrice;
            if (typeLabel) typeLabel.textContent = t.catalog.productType;
            if (clearBtn) clearBtn.textContent = t.catalog.clear;

            // Type filter options
            const typeSelect = document.getElementById('type-filter-select');
            if (typeSelect) {
                typeSelect.options[0].text = t.catalog.all;
                typeSelect.options[1].text = t.catalog.tree;
                typeSelect.options[2].text = t.catalog.fruit;
                typeSelect.options[3].text = t.catalog.bush;
            }

            // No results message
            const noResultsTitle = document.querySelector('#no-results-message p.text-xl');
            const noResultsSubtitle = document.querySelector('#no-results-message p.text-sm');
            if (noResultsTitle) noResultsTitle.textContent = t.catalog.noResults;
            if (noResultsSubtitle) noResultsSubtitle.textContent = t.catalog.tryAgain;

            // Footer
            const footerText = document.querySelector('footer p');
            if (footerText) footerText.textContent = t.footer.copyright;

            // Grandma Stories section
            if (t.grandmaStories) {
                const gs = t.grandmaStories;

                // Main title and subtitle
                const gsTitle = document.querySelector('.bg-amber-50 h3.text-amber-800');
                const gsSubtitle = document.querySelector('.bg-amber-50 > div > div > div.flex-1 > p');
                if (gsTitle) gsTitle.textContent = gs.title;
                if (gsSubtitle) gsSubtitle.textContent = gs.subtitle;

                // Stories
                const storyCards = document.querySelectorAll('.bg-amber-50 .bg-white.border-amber-200');
                if (storyCards[0]) {
                    const title1 = storyCards[0].querySelector('h4');
                    const text1 = storyCards[0].querySelector('p.italic');
                    const author1 = storyCards[0].querySelector('p.text-xs');
                    const btn1 = storyCards[0].querySelector('button');
                    if (title1) title1.textContent = gs.story1Title;
                    if (text1) text1.textContent = '"' + gs.story1Text + '"';
                    if (author1) author1.textContent = gs.story1Author;
                    if (btn1) btn1.textContent = gs.readMore;
                }
                if (storyCards[1]) {
                    const title2 = storyCards[1].querySelector('h4');
                    const text2 = storyCards[1].querySelector('p.italic');
                    const author2 = storyCards[1].querySelector('p.text-xs');
                    const btn2 = storyCards[1].querySelector('button');
                    if (title2) title2.textContent = gs.story2Title;
                    if (text2) text2.textContent = '"' + gs.story2Text + '"';
                    if (author2) author2.textContent = gs.story2Author;
                    if (btn2) btn2.textContent = gs.readMore;
                }
                if (storyCards[2]) {
                    const title3 = storyCards[2].querySelector('h4');
                    const text3 = storyCards[2].querySelector('p.italic');
                    const author3 = storyCards[2].querySelector('p.text-xs');
                    const btn3 = storyCards[2].querySelector('button');
                    if (title3) title3.textContent = gs.story3Title;
                    if (text3) text3.textContent = '"' + gs.story3Text + '"';
                    if (author3) author3.textContent = gs.story3Author;
                    if (btn3) btn3.textContent = gs.readMore;
                }

                // Read all button
                const readAllBtn = document.querySelector('.bg-amber-50 button.bg-amber-600');
                if (readAllBtn) readAllBtn.textContent = gs.readAll;

                // Share section
                const shareTitle = document.querySelector('.bg-white h3.text-slate-800');
                const shareSubtitle = document.querySelector('.bg-white h3.text-slate-800 + p');
                if (shareTitle) shareTitle.textContent = gs.shareTitle;
                if (shareSubtitle) shareSubtitle.textContent = gs.shareSubtitle;

                // Form labels
                const formLabels = document.querySelectorAll('#green-news .bg-white label');
                const formInputs = document.querySelectorAll('#green-news .bg-white input');
                const formTextarea = document.querySelector('#green-news .bg-white textarea');
                const submitBtn = document.querySelector('#green-news .bg-white button.bg-green-600');

                if (formLabels[0]) formLabels[0].textContent = gs.storyTitleLabel;
                if (formLabels[1]) formLabels[1].textContent = gs.storyTextLabel;
                if (formLabels[2]) formLabels[2].textContent = gs.nameLabel;
                if (formLabels[3]) formLabels[3].textContent = gs.cityLabel;

                if (formInputs[0]) formInputs[0].placeholder = gs.storyTitlePlaceholder;
                if (formInputs[1]) formInputs[1].placeholder = gs.namePlaceholder;
                if (formInputs[2]) formInputs[2].placeholder = gs.cityPlaceholder;
                if (formTextarea) formTextarea.placeholder = gs.storyTextPlaceholder;
                if (submitBtn) submitBtn.textContent = gs.submitBtn;
            }

            // Mobile menu translation
            const mobileMenuLinks = document.querySelectorAll('#mobile-menu .nav-link');
            const mobileMenuTitle = document.querySelector('#mobile-menu .font-bold.text-lg');

            if (mobileMenuTitle) {
                mobileMenuTitle.textContent = lang === 'uz' ? 'üåø Menyu' : lang === 'ru' ? 'üåø –ú–µ–Ω—é' : 'üåø Menu';
            }

            if (mobileMenuLinks.length > 0 && t.header) {
                const headerKeys = Object.keys(t.header);
                mobileMenuLinks.forEach((link, index) => {
                    if (headerKeys[index]) {
                        const icon = link.querySelector('span');
                        const iconText = icon ? icon.textContent : '';
                        link.innerHTML = `<span>${iconText}</span> ${t.header[headerKeys[index]]}`;
                    }
                });
            }

            // Seasonal section - barcha hardcoded matnlarni tarjima qilish
            if (t.seasonalSection) {
                const ss = t.seasonalSection;
                
                // Bugungi eslatma
                document.querySelectorAll('#seasonal-tips h3').forEach(h3 => {
                    if (h3.textContent.includes('Bugungi eslatma')) {
                        h3.textContent = ss.todayReminder;
                    }
                });

                // Push-bildirishnoma
                document.querySelectorAll('#seasonal-tips button').forEach(btn => {
                    if (btn.textContent.includes('Push-bildirishnomani')) {
                        const spans = btn.querySelectorAll('span');
                        if (spans.length > 1) {
                            spans[spans.length - 1].textContent = ss.pushNotification;
                        } else {
                            btn.textContent = 'üîî ' + ss.pushNotification;
                        }
                    }
                });

                // Sozlamalar
                document.querySelectorAll('#seasonal-tips button').forEach(btn => {
                    if (btn.textContent.trim() === 'Sozlamalar') {
                        btn.textContent = ss.settings;
                    }
                });

                // Kunlik eslatmalar
                document.querySelectorAll('#seasonal-tips h3').forEach(h3 => {
                    if (h3.textContent.includes('Kunlik eslatmalar')) {
                        h3.textContent = ss.dailyReminders;
                    }
                });

                // Ertalab, kunduzi, kechqurun
                document.querySelectorAll('#seasonal-tips h4').forEach(h4 => {
                    const text = h4.textContent.trim();
                    if (text.includes('Ertalab 7:00')) h4.textContent = ss.morning;
                    else if (text.includes('Kunduzi 12:00')) h4.textContent = ss.noon;
                    else if (text.includes('Kechqurun 18:00')) h4.textContent = ss.evening;
                });

                // Yoqilgan/O'chirilgan
                document.querySelectorAll('#seasonal-tips span').forEach(span => {
                    const text = span.textContent.trim();
                    if (text === 'Yoqilgan') span.textContent = ss.enabled;
                    else if (text === 'O\'chirilgan') span.textContent = ss.disabled;
                });

                // Hozirgi mavsum
                document.querySelectorAll('#seasonal-tips h3').forEach(h3 => {
                    if (h3.textContent.includes('Hozirgi mavsum')) {
                        h3.textContent = ss.currentSeason;
                    }
                });
                document.querySelectorAll('#seasonal-tips p').forEach(p => {
                    if (p.textContent.includes('Kuz - hosil yig\'ish')) {
                        p.textContent = ss.currentSeasonDesc;
                    }
                });

                // Kuz uchun mahsulotlar
                document.querySelectorAll('#seasonal-tips button').forEach(btn => {
                    if (btn.textContent.includes('Kuz uchun mahsulotlar')) {
                        btn.textContent = ss.seasonProducts;
                    }
                });
            }

            // Hardcoded rus matnlarni to'g'rilash
            // "–í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∑–µ–ª–µ–Ω—å –≤ –æ–¥–Ω–æ–º –Ω–∞–±–æ—Ä–µ! –° –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –≥–æ—Ä—à–∫–∞–º–∏."
            document.querySelectorAll('p, h3, h4, span, div, button').forEach(el => {
                const text = el.textContent.trim();
                // Faqat to'g'ridan-to'g'ri matn elementlarini tekshirish (bola elementlarsiz)
                if (el.children.length === 0) {
                    if (text.includes("–í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∑–µ–ª–µ–Ω—å –≤ –æ–¥–Ω–æ–º –Ω–∞–±–æ—Ä–µ")) {
                        if (t.kitchenGarden && t.kitchenGarden.setDescription) {
                            el.textContent = t.kitchenGarden.setDescription;
                        }
                    }
                    if (text === "–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π!") {
                        if (t.grandmaStories && t.grandmaStories.shareTitle) {
                            el.textContent = t.grandmaStories.shareTitle;
                        }
                    }
                    if (text === "–ö–∞–∫–∏–µ —Å–µ–∫—Ä–µ—Ç—ã —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–∞ –µ—Å—Ç—å –≤ –≤–∞—à–µ–π —Å–µ–º—å–µ?") {
                        if (t.grandmaStories && t.grandmaStories.shareSubtitle) {
                            el.textContent = t.grandmaStories.shareSubtitle;
                        }
                    }
                }
            });
        }

        // Slider funksiyalari (Slide Show)
        let currentSlide = 0;
        const totalSlides = 9;
        let sliderInterval;

        function showSlide(index) {
            const track = document.getElementById('slider-track');
            const dots = document.querySelectorAll('.slider-dot');

            if (index >= totalSlides) currentSlide = 0;
            if (index < 0) currentSlide = totalSlides - 1;

            // Slide effekti - chapga/o'ngga sirpanish
            if (track) {
                track.style.transform = `translateX(-${currentSlide * 100}%)`;
            }

            dots.forEach((dot, i) => {
                dot.className = i === currentSlide
                    ? 'slider-dot w-3 h-3 rounded-full bg-green-600 hover:bg-green-700 transition-all'
                    : 'slider-dot w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all';
            });
        }

        window.nextSlide = function () {
            currentSlide++;
            showSlide(currentSlide);
            resetInterval();
        }

        window.prevSlide = function () {
            currentSlide--;
            showSlide(currentSlide);
            resetInterval();
        }

        window.goToSlide = function (index) {
            currentSlide = index;
            showSlide(currentSlide);
            resetInterval();
        }

        function resetInterval() {
            clearInterval(sliderInterval);
            sliderInterval = setInterval(() => {
                currentSlide++;
                showSlide(currentSlide);
            }, 4000);
        }

        // Slider avtomatik aylanishi (har 4 sekundda)
        sliderInterval = setInterval(() => {
            currentSlide++;
            showSlide(currentSlide);
        }, 4000);

        document.addEventListener('DOMContentLoaded', function () {
            // Sahifa yuklanganda tilni o'rnatish
            updateDropdownItems(currentLanguage);
            changeLanguage(currentLanguage);
            showSlide(0);

            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const closeMenuBtn = document.getElementById('close-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const navLinks = document.querySelectorAll('.nav-link');

            const sections = document.querySelectorAll('main > section');
            const navLinksDesktop = document.querySelectorAll('header nav a');

            const setActiveLink = (id) => {
                navLinksDesktop.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${id}`) {
                        link.classList.add('active');
                    }
                });
            };

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            setActiveLink(entry.target.id);
                        }
                    });
                }, {
                rootMargin: '-50% 0px -50% 0px'
            }
            );

            sections.forEach(section => {
                observer.observe(section);
            });

            const menuOverlay = document.getElementById('menu-overlay');

            mobileMenuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                e.preventDefault();
                mobileMenu.classList.add('active');
                menuOverlay.classList.remove('hidden');
                menuOverlay.classList.add('active');
                mobileMenuBtn.setAttribute('aria-expanded', 'true');
                const firstLink = mobileMenu.querySelector('a');
                if (firstLink) {
                    setTimeout(() => firstLink.focus(), 100);
                }
            });

            closeMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
                menuOverlay.classList.add('hidden');
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
                mobileMenuBtn.focus();
            });

            window.closeMenu = () => {
                mobileMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
                menuOverlay.classList.add('hidden');
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
            };

            // Keyboard navigation for mobile menu
            mobileMenu.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeMenuBtn.click();
                }
            });

            const treeData = {
                labels: ['Sotilgan (2,000)', 'Ekilgan (1,500)', 'Omon qolgan (1,200)'],
                datasets: [{
                    label: 'Daraxtlar holati',
                    data: [2000, 1500, 1200],
                    backgroundColor: [
                        '#60a5fa',
                        '#facc15',
                        '#16a34a'
                    ],
                    borderColor: '#f0fdf4',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            };
            const co2Data = {
                labels: Array.from({ length: 10 }, (_, i) => `${i + 1}-yil`),
                datasets: [{
                    label: 'CO‚ÇÇ Yutilishi (tonna)',
                    data: [12, 24, 36, 48, 60, 72, 84, 96, 108, 120],
                    fill: true,
                    backgroundColor: 'rgba(22, 163, 74, 0.1)',
                    borderColor: '#16a34a',
                    tension: 0.4,
                    pointBackgroundColor: '#16a34a',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#16a34a'
                }]
            };
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#475569',
                            font: {
                                size: 14
                            }
                        }
                    }
                }
            };
            const animateValue = (obj, start, end, duration) => {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    obj.innerHTML = Math.floor(progress * (end - start) + start) + (obj.id.includes('co2') ? ' tonna' : '+');
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            };
            let chartsInitialized = false;
            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.id === 'impact' && !chartsInitialized) {
                            new Chart(document.getElementById('treesChart'), {
                                type: 'doughnut',
                                data: treeData,
                                options: chartOptions
                            });
                            new Chart(document.getElementById('co2Chart'), {
                                type: 'line',
                                data: co2Data,
                                options: chartOptions
                            });
                            const usersCount = document.getElementById('users-count');
                            const corpsCount = document.getElementById('corps-count');
                            const co2Count = document.getElementById('co2-count');
                            animateValue(usersCount, 0, 500, 2000);
                            animateValue(corpsCount, 0, 5, 2000);
                            animateValue(co2Count, 0, 12, 2000);
                            chartsInitialized = true;
                        }
                        observer.unobserve(entry.target);
                    }
                });
            };
            const impactSection = document.getElementById('impact');
            if (impactSection) {
                const impactObserver = new IntersectionObserver(observerCallback, { threshold: 0.5 });
                impactObserver.observe(impactSection);
            }

            const treeInput = document.getElementById('tree-input');
            const calculateBtn = document.getElementById('calculate-btn');
            const co2Result = document.getElementById('co2-result');

            if (calculateBtn) {
                calculateBtn.addEventListener('click', () => {
                    const treeCount = parseInt(treeInput.value);
                    if (!isNaN(treeCount) && treeCount > 0) {
                        const co2PerTree = 15;
                        const totalCo2 = treeCount * co2PerTree;
                        co2Result.textContent = `${totalCo2} kg CO‚ÇÇ yutilishi prognozi`;
                    } else {
                        co2Result.textContent = 'Iltimos, musbat son kiriting.';
                    }
                });
            }

            const aiInput = document.getElementById('ai-input');
            const aiBtn = document.getElementById('ai-btn');
            const aiLoader = document.getElementById('ai-loader');
            const aiResponseText = document.getElementById('ai-response-text');

            aiBtn.addEventListener('click', async () => {
                const query = aiInput.value.trim();
                if (!query) return;

                aiLoader.classList.remove('hidden');
                aiResponseText.textContent = '';

                const systemPrompt = "Botanik sifatida ishlang. Foydalanuvchining iqlimi va joylashuviga ko'ra O'zbekistonda ekish uchun mos bo'lgan 3-4 ta daraxt turini tavsiya qiling. Har bir tavsiya uchun uning xususiyatlari va nima uchun ushbu iqlimga mos kelishini qisqacha ta'riflab bering. Javobni o'zbek tilida yozing.";
                const userQuery = `Menga hududim va iqlimim bo'yicha tavsiya kerak: ${query}`;
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    tools: [{ "google_search": {} }],
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                };

                let retries = 0;
                const maxRetries = 3;
                let response;

                const makeRequest = async () => {
                    try {
                        response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!response.ok) {
                            if (response.status === 429 && retries < maxRetries) {
                                const delay = Math.pow(2, retries) * 1000;
                                retries++;
                                await new Promise(resolve => setTimeout(resolve, delay));
                                return makeRequest();
                            } else {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                        }
                        const result = await response.json();
                        const generatedText = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (generatedText) {
                            aiResponseText.textContent = generatedText;
                        } else {
                            aiResponseText.textContent = "Kechirasiz, tavsiya topa olmadim. Boshqa so'rov kiritib ko'ring.";
                        }
                    } catch (e) {
                        aiResponseText.textContent = "Xatolik yuz berdi. Iltimos, keyinroq urinib ko'ring.";
                    } finally {
                        aiLoader.classList.add('hidden');
                    }
                };
                makeRequest();
            });

            // Mobil moslashuvchanlik funksiyalari

            // Mobil qurilmani aniqlash
            const isMobile = () => {
                return window.innerWidth <= 768 ||
                    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            };

            // Touch event'larni qo'llab-quvvatlash
            const addTouchSupport = () => {
                const buttons = document.querySelectorAll('button, .btn, a.btn');
                buttons.forEach(button => {
                    button.addEventListener('touchstart', function () {
                        this.style.opacity = '0.7';
                    }, { passive: true });

                    button.addEventListener('touchend', function () {
                        this.style.opacity = '1';
                    }, { passive: true });
                });
            };

            // Mobil to'lov usullarini qo'shish
            window.initMobilePaymentMethods = () => {
                if (isMobile()) {
                    const paymentContainer = document.getElementById('payment-methods-container');
                    if (paymentContainer) {
                        paymentContainer.innerHTML = `
                            <div class="payment-methods-mobile">
                                <div class="payment-method-option" data-method="card">
                                    <span class="text-2xl">üí≥</span>
                                    <div>
                                        <div class="font-semibold">Bank kartasi</div>
                                        <div class="text-sm text-slate-500">Visa, Mastercard, Humo, Uzcard</div>
                                    </div>
                                </div>
                                <div class="payment-method-option" data-method="cash">
                                    <span class="text-2xl">üíµ</span>
                                    <div>
                                        <div class="font-semibold">Naqd pul</div>
                                        <div class="text-sm text-slate-500">Yetkazib berishda to'lash</div>
                                    </div>
                                </div>
                                <div class="payment-method-option" data-method="payme">
                                    <span class="text-2xl">üì±</span>
                                    <div>
                                        <div class="font-semibold">Payme</div>
                                        <div class="text-sm text-slate-500">Mobil to'lov</div>
                                    </div>
                                </div>
                                <div class="payment-method-option" data-method="click">
                                    <span class="text-2xl">üì≤</span>
                                    <div>
                                        <div class="font-semibold">Click</div>
                                        <div class="text-sm text-slate-500">Mobil to'lov</div>
                                    </div>
                                </div>
                            </div>
                        `;

                        // To'lov usulini tanlash
                        const paymentOptions = paymentContainer.querySelectorAll('.payment-method-option');
                        paymentOptions.forEach(option => {
                            option.addEventListener('click', function () {
                                paymentOptions.forEach(opt => opt.classList.remove('selected'));
                                this.classList.add('selected');
                                const method = this.getAttribute('data-method');
                                console.log('Tanlangan to\'lov usuli:', method);
                            });
                        });
                    }
                }
            };

            // Input type'larini mobil uchun optimallash
            const optimizeInputsForMobile = () => {
                if (isMobile()) {
                    // Telefon raqami uchun
                    const phoneInputs = document.querySelectorAll('input[name="phone"], input[placeholder*="telefon"]');
                    phoneInputs.forEach(input => {
                        input.setAttribute('type', 'tel');
                        input.setAttribute('inputmode', 'tel');
                    });

                    // Email uchun
                    const emailInputs = document.querySelectorAll('input[name="email"], input[type="email"]');
                    emailInputs.forEach(input => {
                        input.setAttribute('inputmode', 'email');
                    });

                    // Raqamlar uchun
                    const numberInputs = document.querySelectorAll('input[type="number"]');
                    numberInputs.forEach(input => {
                        input.setAttribute('inputmode', 'numeric');
                        input.setAttribute('pattern', '[0-9]*');
                    });
                }
            };

            // Viewport height'ni to'g'ri hisoblash (mobil brauzerlar uchun)
            const setViewportHeight = () => {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            };

            // Scroll lock (modal ochilganda)
            window.lockScroll = () => {
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
            };

            window.unlockScroll = () => {
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            };

            // Mobil funksiyalarni ishga tushirish
            if (isMobile()) {
                addTouchSupport();
                optimizeInputsForMobile();
                setViewportHeight();

                // Viewport o'zgarishida yangilash
                window.addEventListener('resize', setViewportHeight);
                window.addEventListener('orientationchange', setViewportHeight);
            }

            // Mahsulot grid'ini mobil uchun optimallash
            const optimizeProductGrid = () => {
                const productGrid = document.querySelector('#catalog .grid');
                if (productGrid && isMobile()) {
                    productGrid.classList.add('product-grid');
                }
            };

            optimizeProductGrid();

            // Console'ga mobil moslashuvchanlik haqida xabar
            console.log('Mobil moslashuvchanlik yoqildi:', isMobile());

            // ==================== CART FUNCTIONALITY ====================

            // Cart state
            let cart = {
                items: [],
                lastUpdated: null
            };

            // Product data
            const products = [
                { id: 'chinor', name: 'Chinordan', price: 150000, icon: 'üå≥', type: 'daraxt', description: 'Ushbu daraxt tez o\'sadi, soyasi qalin va havo tozalashda juda samarali.' },
                { id: 'olma', name: 'Olmali daraxt', price: 120000, icon: 'üçè', type: 'meva', description: 'Meva beruvchi daraxt. Havoni tozalash bilan birga, bog\'ingizga chiroy beradi.' },
                { id: 'atirgul', name: 'Atirgul butasi', price: 45000, icon: 'üå∏', type: 'buta', description: 'Bog\' va hovlilarga chiroy beruvchi atirgul butasi, oson parvarish qilinadi.' }
            ];

            // Load cart from localStorage
            const loadCart = () => {
                try {
                    const savedCart = localStorage.getItem('greenmarket_cart');
                    if (savedCart) {
                        cart = JSON.parse(savedCart);
                    }
                } catch (e) {
                    console.error('Savatni yuklashda xato:', e);
                }
                updateCartUI();
            };

            // Save cart to localStorage
            const saveCart = () => {
                try {
                    cart.lastUpdated = Date.now();
                    localStorage.setItem('greenmarket_cart', JSON.stringify(cart));
                } catch (e) {
                    console.error('Savatni saqlashda xato:', e);
                    alert('Savatni saqlashda xato yuz berdi. localStorage to\'lgan bo\'lishi mumkin.');
                }
            };

            // Add item to cart
            const addToCart = (productId) => {
                const product = products.find(p => p.id === productId);
                const existingItem = cart.items.find(item => item.productId === productId);

                if (existingItem) {
                    existingItem.quantity += 1;
                    announceToScreenReader(`${product.name} miqdori oshirildi. Hozir ${existingItem.quantity} ta`);
                } else {
                    cart.items.push({
                        productId: productId,
                        quantity: 1,
                        addedAt: Date.now()
                    });
                    announceToScreenReader(`${product.name} savatga qo'shildi`);
                }

                saveCart();
                updateCartUI();
                showCartNotification();
            };

            // Remove item from cart
            const removeFromCart = (productId) => {
                const product = products.find(p => p.id === productId);
                cart.items = cart.items.filter(item => item.productId !== productId);
                saveCart();
                updateCartUI();
                if (product) {
                    announceToScreenReader(`${product.name} savatdan o'chirildi`);
                }
            };

            // Update item quantity
            const updateQuantity = (productId, newQuantity) => {
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                    return;
                }

                const item = cart.items.find(item => item.productId === productId);
                if (item) {
                    item.quantity = newQuantity;
                    saveCart();
                    updateCartUI();
                }
            };

            // Get total price
            const getTotalPrice = () => {
                return cart.items.reduce((total, item) => {
                    const product = products.find(p => p.id === item.productId);
                    return total + (product ? product.price * item.quantity : 0);
                }, 0);
            };

            // Get total item count
            const getItemCount = () => {
                return cart.items.reduce((count, item) => count + item.quantity, 0);
            };

            // Format price
            const formatPrice = (price) => {
                return price.toLocaleString('uz-UZ') + ' so\'m';
            };

            // Screen reader announcement helper
            const announceToScreenReader = (message) => {
                const announcement = document.createElement('div');
                announcement.setAttribute('role', 'status');
                announcement.setAttribute('aria-live', 'polite');
                announcement.setAttribute('aria-atomic', 'true');
                announcement.className = 'sr-only';
                announcement.textContent = message;
                document.body.appendChild(announcement);
                setTimeout(() => {
                    document.body.removeChild(announcement);
                }, 1000);
            };

            // Update cart UI
            const updateCartUI = () => {
                const itemCount = getItemCount();
                const totalPrice = getTotalPrice();
                const cartBadge = document.getElementById('cart-badge');
                const cartItemsContainer = document.getElementById('cart-items-container');
                const cartEmptyMessage = document.getElementById('cart-empty-message');
                const cartTotalPrice = document.getElementById('cart-total-price');
                const checkoutBtn = document.getElementById('checkout-btn');

                // Update badge
                if (itemCount > 0) {
                    cartBadge.textContent = itemCount;
                    cartBadge.classList.remove('hidden');
                    cartBadge.setAttribute('aria-label', `Savatda ${itemCount} ta mahsulot`);
                } else {
                    cartBadge.classList.add('hidden');
                    cartBadge.setAttribute('aria-label', 'Savat bo\'sh');
                }

                // Update cart modal content
                if (cart.items.length === 0) {
                    cartEmptyMessage.classList.remove('hidden');
                    cartItemsContainer.innerHTML = '';
                    checkoutBtn.disabled = true;
                } else {
                    cartEmptyMessage.classList.add('hidden');
                    checkoutBtn.disabled = false;

                    // Render cart items
                    cartItemsContainer.innerHTML = cart.items.map(item => {
                        const product = products.find(p => p.id === item.productId);
                        if (!product) return '';

                        return `
                            <div class="flex items-center gap-4 p-4 bg-white border border-slate-200 rounded-lg" role="listitem">
                                <div class="text-4xl" aria-hidden="true">${product.icon}</div>
                                <div class="flex-1">
                                    <h3 class="font-semibold text-slate-800">${product.name}</h3>
                                    <p class="text-sm text-slate-500">${formatPrice(product.price)}</p>
                                </div>
                                <div class="flex items-center gap-2" role="group" aria-label="Miqdorni boshqarish">
                                    <button class="quantity-decrease-btn w-8 h-8 flex items-center justify-center bg-slate-200 hover:bg-slate-300 rounded-md font-bold text-slate-700" data-product-id="${product.id}" aria-label="Miqdorni kamaytirish">-</button>
                                    <span class="w-12 text-center font-semibold" aria-label="Miqdor">${item.quantity}</span>
                                    <button class="quantity-increase-btn w-8 h-8 flex items-center justify-center bg-slate-200 hover:bg-slate-300 rounded-md font-bold text-slate-700" data-product-id="${product.id}" aria-label="Miqdorni oshirish">+</button>
                                </div>
                                <button class="remove-item-btn text-red-500 hover:text-red-700 font-bold text-xl" data-product-id="${product.id}" aria-label="${product.name} ni savatdan o'chirish">üóëÔ∏è</button>
                            </div>
                        `;
                    }).join('');

                    // Add event listeners to quantity buttons
                    document.querySelectorAll('.quantity-decrease-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const productId = e.target.getAttribute('data-product-id');
                            const item = cart.items.find(i => i.productId === productId);
                            if (item) {
                                updateQuantity(productId, item.quantity - 1);
                            }
                        });
                    });

                    document.querySelectorAll('.quantity-increase-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const productId = e.target.getAttribute('data-product-id');
                            const item = cart.items.find(i => i.productId === productId);
                            if (item) {
                                updateQuantity(productId, item.quantity + 1);
                            }
                        });
                    });

                    document.querySelectorAll('.remove-item-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const productId = e.target.getAttribute('data-product-id');
                            removeFromCart(productId);
                        });
                    });
                }

                // Update total price
                cartTotalPrice.textContent = formatPrice(totalPrice);
            };

            // Show cart notification
            const showCartNotification = () => {
                // Simple notification - could be enhanced with a toast library
                const cartIconBtn = document.getElementById('cart-icon-btn');
                cartIconBtn.classList.add('animate-bounce');
                setTimeout(() => {
                    cartIconBtn.classList.remove('animate-bounce');
                }, 500);
            };

            // Store last focused element before opening modal
            let lastFocusedElement = null;

            // Open cart modal
            const openCartModal = () => {
                lastFocusedElement = document.activeElement;
                const cartModal = document.getElementById('cart-modal');
                cartModal.classList.remove('hidden');
                cartModal.classList.add('flex');
                if (isMobile()) {
                    window.lockScroll();
                }
                // Focus close button
                setTimeout(() => {
                    document.getElementById('close-cart-btn').focus();
                }, 100);
            };

            // Close cart modal
            const closeCartModal = () => {
                const cartModal = document.getElementById('cart-modal');
                cartModal.classList.add('hidden');
                cartModal.classList.remove('flex');
                if (isMobile()) {
                    window.unlockScroll();
                }
                // Return focus to last focused element
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            // Event listeners for cart
            document.getElementById('cart-icon-btn').addEventListener('click', openCartModal);
            document.getElementById('close-cart-btn').addEventListener('click', closeCartModal);

            // Close modal when clicking outside
            document.getElementById('cart-modal').addEventListener('click', (e) => {
                if (e.target.id === 'cart-modal') {
                    closeCartModal();
                }
            });

            // Keyboard navigation for cart modal
            document.getElementById('cart-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeCartModal();
                }

                // Trap focus within modal
                if (e.key === 'Tab') {
                    const cartModal = document.getElementById('cart-modal');
                    const focusableElements = cartModal.querySelectorAll(
                        'button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];

                    if (e.shiftKey && document.activeElement === firstElement) {
                        e.preventDefault();
                        lastElement.focus();
                    } else if (!e.shiftKey && document.activeElement === lastElement) {
                        e.preventDefault();
                        firstElement.focus();
                    }
                }
            });

            // Add to cart buttons
            document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const productId = e.target.getAttribute('data-product-id');
                    addToCart(productId);
                });
            });

            // ==================== CHECKOUT FORM FUNCTIONALITY ====================

            // Validation functions
            const validateName = (name) => {
                if (!name || name.trim() === '') {
                    return { valid: false, message: 'Ism va familiya kiritilishi shart' };
                }
                if (name.trim().length < 2) {
                    return { valid: false, message: 'Ism kamida 2 ta belgidan iborat bo\'lishi kerak' };
                }
                return { valid: true, message: '' };
            };

            const validatePhone = (phone) => {
                if (!phone || phone.trim() === '') {
                    return { valid: false, message: 'Telefon raqami kiritilishi shart' };
                }

                const cleanPhone = phone.trim();

                // Check if phone contains only valid characters (digits, +, spaces, hyphens)
                if (!/^[\d\s+\-]+$/.test(cleanPhone)) {
                    return { valid: false, message: 'Telefon raqami noto\'g\'ri formatda. Misol: +998 20 000 00 00' };
                }

                // O'zbekiston telefon raqami formati: +998 XX XXX XX XX yoki 998XXXXXXXXX yoki +998XXXXXXXXX
                // Must start with +998 or 998, followed by 9 digits
                const phoneRegex = /^(\+998|998)[\s-]?(\d{2})[\s-]?(\d{3})[\s-]?(\d{2})[\s-]?(\d{2})$/;

                if (!phoneRegex.test(cleanPhone)) {
                    return { valid: false, message: 'Telefon raqami noto\'g\'ri formatda. Misol: +998 20 000 00 00' };
                }

                return { valid: true, message: '' };
            };

            const validateAddress = (address) => {
                if (!address || address.trim() === '') {
                    return { valid: false, message: 'Manzil kiritilishi shart' };
                }
                if (address.trim().length < 10) {
                    return { valid: false, message: 'Iltimos, to\'liq manzilni kiriting (kamida 10 ta belgi)' };
                }
                return { valid: true, message: '' };
            };

            const validateEmail = (email) => {
                if (!email || email.trim() === '') {
                    return { valid: false, message: 'Email kiritilishi shart' };
                }

                // Email format validation
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

                if (!emailRegex.test(email.trim())) {
                    return { valid: false, message: 'Email noto\'g\'ri formatda. Misol: email@example.com' };
                }

                return { valid: true, message: '' };
            };

            // Show error message
            const showError = (fieldId, message) => {
                const errorElement = document.getElementById(`${fieldId}-error`);
                const inputElement = document.getElementById(`customer-${fieldId}`);

                if (errorElement && inputElement) {
                    errorElement.textContent = message;
                    errorElement.classList.remove('hidden');
                    inputElement.classList.add('border-red-500');
                    inputElement.classList.remove('border-slate-300');
                }
            };

            // Clear error message
            const clearError = (fieldId) => {
                const errorElement = document.getElementById(`${fieldId}-error`);
                const inputElement = document.getElementById(`customer-${fieldId}`);

                if (errorElement && inputElement) {
                    errorElement.textContent = '';
                    errorElement.classList.add('hidden');
                    inputElement.classList.remove('border-red-500');
                    inputElement.classList.add('border-slate-300');
                }
            };

            // Validate all fields
            const validateCheckoutForm = () => {
                const name = document.getElementById('customer-name').value;
                const phone = document.getElementById('customer-phone').value;
                const address = document.getElementById('customer-address').value;
                const email = document.getElementById('customer-email').value;

                let isValid = true;

                // Validate name
                const nameValidation = validateName(name);
                if (!nameValidation.valid) {
                    showError('name', nameValidation.message);
                    isValid = false;
                } else {
                    clearError('name');
                }

                // Validate phone
                const phoneValidation = validatePhone(phone);
                if (!phoneValidation.valid) {
                    showError('phone', phoneValidation.message);
                    isValid = false;
                } else {
                    clearError('phone');
                }

                // Validate address
                const addressValidation = validateAddress(address);
                if (!addressValidation.valid) {
                    showError('address', addressValidation.message);
                    isValid = false;
                } else {
                    clearError('address');
                }

                // Validate email
                const emailValidation = validateEmail(email);
                if (!emailValidation.valid) {
                    showError('email', emailValidation.message);
                    isValid = false;
                } else {
                    clearError('email');
                }

                return isValid;
            };

            // Open checkout modal
            const openCheckoutModal = () => {
                lastFocusedElement = document.activeElement;
                const checkoutModal = document.getElementById('checkout-modal');
                checkoutModal.classList.remove('hidden');
                checkoutModal.classList.add('flex');
                if (isMobile()) {
                    window.lockScroll();
                }
                // Focus first input
                setTimeout(() => {
                    document.getElementById('customer-name').focus();
                }, 100);
            };

            // Close checkout modal
            const closeCheckoutModal = () => {
                const checkoutModal = document.getElementById('checkout-modal');
                checkoutModal.classList.add('hidden');
                checkoutModal.classList.remove('flex');

                // Clear form
                document.getElementById('checkout-form').reset();

                // Clear all errors
                clearError('name');
                clearError('phone');
                clearError('address');
                clearError('email');

                if (isMobile()) {
                    window.unlockScroll();
                }

                // Return focus
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            // Checkout button - open checkout form
            document.getElementById('checkout-btn').addEventListener('click', () => {
                if (cart.items.length === 0) {
                    alert('Savat bo\'sh');
                    return;
                }

                closeCartModal();
                openCheckoutModal();
            });

            // Close checkout modal button
            document.getElementById('close-checkout-btn').addEventListener('click', closeCheckoutModal);

            // Close modal when clicking outside
            document.getElementById('checkout-modal').addEventListener('click', (e) => {
                if (e.target.id === 'checkout-modal') {
                    closeCheckoutModal();
                }
            });

            // Keyboard navigation for checkout modal
            document.getElementById('checkout-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeCheckoutModal();
                }

                // Trap focus within modal
                if (e.key === 'Tab') {
                    const modal = document.getElementById('checkout-modal');
                    const focusableElements = modal.querySelectorAll(
                        'button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];

                    if (e.shiftKey && document.activeElement === firstElement) {
                        e.preventDefault();
                        lastElement.focus();
                    } else if (!e.shiftKey && document.activeElement === lastElement) {
                        e.preventDefault();
                        firstElement.focus();
                    }
                }
            });

            // Handle form submission
            document.getElementById('checkout-form').addEventListener('submit', (e) => {
                e.preventDefault();

                // Validate form
                if (!validateCheckoutForm()) {
                    return;
                }

                // Get form data
                const customerInfo = {
                    name: document.getElementById('customer-name').value.trim(),
                    phone: document.getElementById('customer-phone').value.trim(),
                    address: document.getElementById('customer-address').value.trim(),
                    email: document.getElementById('customer-email').value.trim()
                };

                // Store customer info for next step (payment)
                sessionStorage.setItem('greenmarket_customer_info', JSON.stringify(customerInfo));

                // Close checkout modal
                closeCheckoutModal();

                // Open payment modal
                openPaymentModal();
            });

            // Real-time validation on blur
            document.getElementById('customer-name').addEventListener('blur', (e) => {
                const validation = validateName(e.target.value);
                if (!validation.valid) {
                    showError('name', validation.message);
                } else {
                    clearError('name');
                }
            });

            document.getElementById('customer-phone').addEventListener('blur', (e) => {
                const validation = validatePhone(e.target.value);
                if (!validation.valid) {
                    showError('phone', validation.message);
                } else {
                    clearError('phone');
                }
            });

            document.getElementById('customer-address').addEventListener('blur', (e) => {
                const validation = validateAddress(e.target.value);
                if (!validation.valid) {
                    showError('address', validation.message);
                } else {
                    clearError('address');
                }
            });

            document.getElementById('customer-email').addEventListener('blur', (e) => {
                const validation = validateEmail(e.target.value);
                if (!validation.valid) {
                    showError('email', validation.message);
                } else {
                    clearError('email');
                }
            });

            // Load cart on page load
            loadCart();

            // ==================== SEARCH AND FILTER FUNCTIONALITY ====================

            let currentFilters = {
                searchQuery: '',
                minPrice: null,
                maxPrice: null,
                type: ''
            };

            let debounceTimer = null;
            const DEBOUNCE_DELAY = 300; // 300ms debounce delay

            // Get filter elements
            const searchInput = document.getElementById('search-input');
            const minPriceInput = document.getElementById('min-price-input');
            const maxPriceInput = document.getElementById('max-price-input');
            const typeFilterSelect = document.getElementById('type-filter-select');
            const clearFiltersBtn = document.getElementById('clear-filters-btn');
            const productCatalog = document.getElementById('product-catalog');
            const noResultsMessage = document.getElementById('no-results-message');

            // Apply filters and update product display
            const applyFilters = () => {
                let filteredProducts = [...products];

                // Apply search query
                if (currentFilters.searchQuery && currentFilters.searchQuery.trim() !== '') {
                    const lowerQuery = currentFilters.searchQuery.toLowerCase().trim();
                    filteredProducts = filteredProducts.filter(product =>
                        product.name.toLowerCase().includes(lowerQuery)
                    );
                }

                // Apply price filter
                if (currentFilters.minPrice !== null || currentFilters.maxPrice !== null) {
                    filteredProducts = filteredProducts.filter(product => {
                        const meetsMin = currentFilters.minPrice === null || product.price >= currentFilters.minPrice;
                        const meetsMax = currentFilters.maxPrice === null || product.price <= currentFilters.maxPrice;
                        return meetsMin && meetsMax;
                    });
                }

                // Apply type filter
                if (currentFilters.type !== null && currentFilters.type !== '') {
                    filteredProducts = filteredProducts.filter(product => product.type === currentFilters.type);
                }

                // Update display
                renderProducts(filteredProducts);
            };

            // Pagination state
            let currentPage = 1;
            const PAGE_SIZE = 50;
            let allFilteredProducts = [];

            // Lazy loading observer
            let imageObserver = null;
            if ('IntersectionObserver' in window) {
                imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                img.src = img.dataset.src;
                                img.removeAttribute('data-src');
                                observer.unobserve(img);
                            }
                        }
                    });
                }, {
                    rootMargin: '50px'
                });
            }

            // Render products to catalog with pagination and lazy loading
            const renderProducts = (productsToRender) => {
                allFilteredProducts = productsToRender;
                currentPage = 1;
                renderProductsPage();
            };

            // Render current page of products
            const renderProductsPage = () => {
                const startIndex = (currentPage - 1) * PAGE_SIZE;
                const endIndex = startIndex + PAGE_SIZE;
                const pageProducts = allFilteredProducts.slice(startIndex, endIndex);
                const totalPages = Math.ceil(allFilteredProducts.length / PAGE_SIZE);

                if (allFilteredProducts.length === 0) {
                    productCatalog.classList.add('hidden');
                    noResultsMessage.classList.remove('hidden');
                    document.getElementById('pagination-controls')?.classList.add('hidden');
                } else {
                    productCatalog.classList.remove('hidden');
                    noResultsMessage.classList.add('hidden');

                    productCatalog.innerHTML = pageProducts.map(product => {
                        // Use lazy loading for product images if they exist
                        const imageHtml = product.image
                            ? `<img data-src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover rounded-lg mb-4 bg-slate-100" loading="lazy">`
                            : `<div class="text-5xl mb-4" aria-hidden="true">${product.icon}</div>`;

                        return `
                            <div class="stat-card p-6 rounded-xl border border-green-200" data-product-id="${product.id}" role="listitem">
                                ${imageHtml}
                                <h3 class="text-xl font-semibold mb-2 text-slate-800">${product.name}</h3>
                                <p class="text-slate-500">${product.description}</p>
                                <p class="mt-2 font-bold text-green-700">Narxi: ${formatPrice(product.price)}</p>
                                <button
                                    class="add-to-cart-btn mt-4 w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors"
                                    data-product-id="${product.id}"
                                    aria-label="${product.name} ni savatga qo'shish, narxi ${formatPrice(product.price)}">
                                    Savatga qo'shish
                                </button>
                            </div>
                        `;
                    }).join('');

                    // Setup lazy loading for images
                    if (imageObserver) {
                        document.querySelectorAll('img[data-src]').forEach(img => {
                            imageObserver.observe(img);
                        });
                    }

                    // Re-attach event listeners to add-to-cart buttons
                    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const productId = e.target.getAttribute('data-product-id');
                            addToCart(productId);
                        });
                    });

                    // Show/hide pagination controls
                    if (allFilteredProducts.length > PAGE_SIZE) {
                        renderPaginationControls(totalPages);
                    } else {
                        document.getElementById('pagination-controls')?.classList.add('hidden');
                    }
                }
            };

            // Render pagination controls
            const renderPaginationControls = (totalPages) => {
                let paginationContainer = document.getElementById('pagination-controls');

                if (!paginationContainer) {
                    paginationContainer = document.createElement('div');
                    paginationContainer.id = 'pagination-controls';
                    paginationContainer.className = 'flex justify-center items-center gap-4 mt-8';
                    document.getElementById('catalog').appendChild(paginationContainer);
                }

                paginationContainer.classList.remove('hidden');
                paginationContainer.innerHTML = `
                    <button 
                        id="prev-page-btn"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed"
                        ${currentPage === 1 ? 'disabled' : ''}
                        aria-label="Oldingi sahifa">
                        ‚Üê Oldingi
                    </button>
                    <span class="text-slate-700 font-semibold" role="status" aria-live="polite">
                        Sahifa ${currentPage} / ${totalPages}
                    </span>
                    <button 
                        id="next-page-btn"
                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed"
                        ${currentPage === totalPages ? 'disabled' : ''}
                        aria-label="Keyingi sahifa">
                        Keyingi ‚Üí
                    </button>
                `;

                // Add event listeners
                document.getElementById('prev-page-btn')?.addEventListener('click', () => {
                    if (currentPage > 1) {
                        currentPage--;
                        renderProductsPage();
                        // Scroll to catalog top
                        document.getElementById('catalog').scrollIntoView({ behavior: 'smooth' });
                    }
                });

                document.getElementById('next-page-btn')?.addEventListener('click', () => {
                    if (currentPage < totalPages) {
                        currentPage++;
                        renderProductsPage();
                        // Scroll to catalog top
                        document.getElementById('catalog').scrollIntoView({ behavior: 'smooth' });
                    }
                });
            };

            // Debounced search with configurable delay
            const debouncedSearch = (value) => {
                if (debounceTimer) {
                    clearTimeout(debounceTimer);
                }

                debounceTimer = setTimeout(() => {
                    currentFilters.searchQuery = value;
                    applyFilters();
                }, DEBOUNCE_DELAY);
            };

            // Event listeners for filters
            searchInput.addEventListener('input', (e) => {
                debouncedSearch(e.target.value);
            });

            minPriceInput.addEventListener('input', (e) => {
                const value = e.target.value;
                currentFilters.minPrice = value === '' ? null : parseInt(value);
                applyFilters();
            });

            maxPriceInput.addEventListener('input', (e) => {
                const value = e.target.value;
                currentFilters.maxPrice = value === '' ? null : parseInt(value);
                applyFilters();
            });

            typeFilterSelect.addEventListener('change', (e) => {
                currentFilters.type = e.target.value;
                applyFilters();
            });

            clearFiltersBtn.addEventListener('click', () => {
                // Reset filter inputs
                searchInput.value = '';
                minPriceInput.value = '';
                maxPriceInput.value = '';
                typeFilterSelect.value = '';

                // Reset filter state
                currentFilters = {
                    searchQuery: '',
                    minPrice: null,
                    maxPrice: null,
                    type: ''
                };

                // Clear debounce timer
                if (debounceTimer) {
                    clearTimeout(debounceTimer);
                }

                // Render all products
                renderProducts(products);
            });

            // Initial render of products
            renderProducts(products);

            // ==================== PAYMENT FUNCTIONALITY ====================

            let selectedPaymentMethod = null;
            let paymentHandler = null;

            // Initialize PaymentHandler (simulated - in real app would be imported)
            const initPaymentHandler = () => {
                // Simulated PaymentHandler class
                paymentHandler = {
                    supportedMethods: ['card', 'cash', 'payme', 'click'],

                    validatePaymentMethod(method) {
                        return this.supportedMethods.includes(method);
                    },

                    validateCardDetails(cardDetails) {
                        const { cardNumber, cardHolder, expiryDate, cvv } = cardDetails;

                        // Validate card number (16 digits)
                        if (!cardNumber || !/^\d{16}$/.test(cardNumber.replace(/\s/g, ''))) {
                            return { valid: false, message: 'Karta raqami noto\'g\'ri formatda (16 ta raqam)' };
                        }

                        // Validate card holder
                        if (!cardHolder || cardHolder.trim().length < 3) {
                            return { valid: false, message: 'Karta egasining ismi noto\'g\'ri' };
                        }

                        // Validate expiry date (MM/YY format)
                        if (!expiryDate || !/^(0[1-9]|1[0-2])\/\d{2}$/.test(expiryDate)) {
                            return { valid: false, message: 'Amal qilish muddati noto\'g\'ri formatda (MM/YY)' };
                        }

                        // Check if card is expired
                        const [month, year] = expiryDate.split('/').map(Number);
                        const currentDate = new Date();
                        const currentYear = currentDate.getFullYear() % 100;
                        const currentMonth = currentDate.getMonth() + 1;

                        if (year < currentYear || (year === currentYear && month < currentMonth)) {
                            return { valid: false, message: 'Karta muddati o\'tgan' };
                        }

                        // Validate CVV (3 digits)
                        if (!cvv || !/^\d{3}$/.test(cvv)) {
                            return { valid: false, message: 'CVV kodi noto\'g\'ri formatda (3 ta raqam)' };
                        }

                        return { valid: true, message: '' };
                    },

                    async processPayment(paymentMethod, paymentDetails, amount) {
                        // Simulate payment processing delay
                        await new Promise(resolve => setTimeout(resolve, 2000));

                        // Simulate payment success/failure (90% success rate)
                        const isSuccess = Math.random() > 0.1;

                        if (paymentMethod === 'card') {
                            const validation = this.validateCardDetails(paymentDetails);
                            if (!validation.valid) {
                                return {
                                    success: false,
                                    message: validation.message,
                                    transactionId: null
                                };
                            }
                        }

                        if (isSuccess) {
                            return {
                                success: true,
                                message: 'To\'lov muvaffaqiyatli amalga oshirildi',
                                transactionId: this.generateTransactionId(),
                                paymentMethod: paymentMethod,
                                amount: amount,
                                timestamp: Date.now()
                            };
                        } else {
                            return {
                                success: false,
                                message: 'To\'lov amalga oshmadi. Iltimos, qayta urinib ko\'ring.',
                                transactionId: null
                            };
                        }
                    },

                    generateTransactionId() {
                        const timestamp = Date.now();
                        const random = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
                        return `TXN${timestamp}${random}`;
                    },

                    getAvailablePaymentMethods(isMobileDevice = false) {
                        return [
                            {
                                id: 'card',
                                name: 'Bank kartasi',
                                description: 'Visa, Mastercard, Humo, Uzcard',
                                icon: 'üí≥',
                                requiresDetails: true
                            },
                            {
                                id: 'cash',
                                name: 'Naqd pul',
                                description: 'Yetkazib berishda to\'lash',
                                icon: 'üíµ',
                                requiresDetails: false
                            },
                            {
                                id: 'payme',
                                name: 'Payme',
                                description: 'Mobil to\'lov',
                                icon: 'üì±',
                                requiresDetails: false,
                                mobileOnly: true
                            },
                            {
                                id: 'click',
                                name: 'Click',
                                description: 'Mobil to\'lov',
                                icon: 'üì≤',
                                requiresDetails: false,
                                mobileOnly: true
                            }
                        ];
                    }
                };
            };

            initPaymentHandler();

            // Open payment modal
            const openPaymentModal = () => {
                lastFocusedElement = document.activeElement;
                const paymentModal = document.getElementById('payment-modal');

                // Render order summary
                renderPaymentOrderSummary();

                // Render payment methods
                renderPaymentMethods();

                paymentModal.classList.remove('hidden');
                paymentModal.classList.add('flex');

                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus first payment method
                setTimeout(() => {
                    const firstMethod = paymentModal.querySelector('.payment-method-option');
                    if (firstMethod) {
                        firstMethod.focus();
                    }
                }, 100);
            };

            // Close payment modal
            const closePaymentModal = () => {
                const paymentModal = document.getElementById('payment-modal');
                paymentModal.classList.add('hidden');
                paymentModal.classList.remove('flex');

                // Reset payment state
                selectedPaymentMethod = null;
                document.getElementById('card-payment-form').classList.add('hidden');
                document.getElementById('process-payment-btn').disabled = true;
                document.getElementById('payment-btn-text').textContent = 'To\'lov usulini tanlang';

                if (isMobile()) {
                    window.unlockScroll();
                }

                // Return focus
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            // Render order summary in payment modal
            const renderPaymentOrderSummary = () => {
                const summaryContainer = document.getElementById('payment-order-summary');
                const totalPriceElement = document.getElementById('payment-total-price');

                summaryContainer.innerHTML = cart.items.map(item => {
                    const product = products.find(p => p.id === item.productId);
                    if (!product) return '';

                    return `
                        <div class="flex justify-between items-center">
                            <span class="text-slate-600">${product.icon} ${product.name} x ${item.quantity}</span>
                            <span class="font-semibold text-slate-800">${formatPrice(product.price * item.quantity)}</span>
                        </div>
                    `;
                }).join('');

                totalPriceElement.textContent = formatPrice(getTotalPrice());
            };

            // Render payment methods
            const renderPaymentMethods = () => {
                const container = document.getElementById('payment-methods-container');
                const methods = paymentHandler.getAvailablePaymentMethods(isMobile());

                container.innerHTML = methods.map(method => `
                    <div class="payment-method-option border-2 border-slate-200 rounded-lg p-4 cursor-pointer hover:border-green-500 transition-colors flex items-center gap-3"
                        data-method="${method.id}"
                        role="radio"
                        aria-checked="false"
                        tabindex="0"
                        aria-label="${method.name} - ${method.description}">
                        <span class="text-3xl" aria-hidden="true">${method.icon}</span>
                        <div class="flex-1">
                            <div class="font-semibold text-slate-800">${method.name}</div>
                            <div class="text-sm text-slate-500">${method.description}</div>
                        </div>
                        <div class="payment-method-radio w-5 h-5 border-2 border-slate-300 rounded-full" aria-hidden="true"></div>
                    </div>
                `).join('');

                // Add click handlers
                document.querySelectorAll('.payment-method-option').forEach(option => {
                    option.addEventListener('click', function () {
                        selectPaymentMethod(this.getAttribute('data-method'));
                    });

                    // Keyboard support
                    option.addEventListener('keydown', function (e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            selectPaymentMethod(this.getAttribute('data-method'));
                        }
                    });
                });
            };

            // Select payment method
            const selectPaymentMethod = (methodId) => {
                selectedPaymentMethod = methodId;

                // Update UI
                document.querySelectorAll('.payment-method-option').forEach(option => {
                    const radio = option.querySelector('.payment-method-radio');
                    if (option.getAttribute('data-method') === methodId) {
                        option.classList.add('border-green-500', 'bg-green-50');
                        option.setAttribute('aria-checked', 'true');
                        radio.classList.add('bg-green-500', 'border-green-500');
                    } else {
                        option.classList.remove('border-green-500', 'bg-green-50');
                        option.setAttribute('aria-checked', 'false');
                        radio.classList.remove('bg-green-500', 'border-green-500');
                    }
                });

                // Show/hide card form
                const cardForm = document.getElementById('card-payment-form');
                if (methodId === 'card') {
                    cardForm.classList.remove('hidden');
                    document.getElementById('process-payment-btn').disabled = false;
                    document.getElementById('payment-btn-text').textContent = 'To\'lovni amalga oshirish';
                } else {
                    cardForm.classList.add('hidden');
                    document.getElementById('process-payment-btn').disabled = false;
                    document.getElementById('payment-btn-text').textContent = 'To\'lovni amalga oshirish';
                }
            };

            // Format card number input
            document.getElementById('card-number').addEventListener('input', (e) => {
                let value = e.target.value.replace(/\s/g, '');
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                e.target.value = formattedValue;
            });

            // Format expiry date input
            document.getElementById('expiry-date').addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.slice(0, 2) + '/' + value.slice(2, 4);
                }
                e.target.value = value;
            });

            // Process payment
            document.getElementById('process-payment-btn').addEventListener('click', async () => {
                if (!selectedPaymentMethod) {
                    alert('Iltimos, to\'lov usulini tanlang');
                    return;
                }

                let paymentDetails = {};

                // If card payment, validate card details
                if (selectedPaymentMethod === 'card') {
                    paymentDetails = {
                        cardNumber: document.getElementById('card-number').value.replace(/\s/g, ''),
                        cardHolder: document.getElementById('card-holder').value.trim(),
                        expiryDate: document.getElementById('expiry-date').value,
                        cvv: document.getElementById('cvv').value
                    };

                    // Validate card details
                    const validation = paymentHandler.validateCardDetails(paymentDetails);
                    if (!validation.valid) {
                        alert(validation.message);
                        return;
                    }
                }

                // Show loading state
                const paymentBtn = document.getElementById('process-payment-btn');
                const paymentBtnText = document.getElementById('payment-btn-text');
                const paymentLoader = document.getElementById('payment-loader');

                paymentBtn.disabled = true;
                paymentBtnText.textContent = 'To\'lov amalga oshirilmoqda...';
                paymentLoader.classList.remove('hidden');

                try {
                    // Process payment
                    const result = await paymentHandler.processPayment(
                        selectedPaymentMethod,
                        paymentDetails,
                        getTotalPrice()
                    );

                    if (result.success) {
                        // Create order
                        const customerInfo = JSON.parse(sessionStorage.getItem('greenmarket_customer_info'));
                        const orderNumber = generateOrderNumber();

                        const order = {
                            orderId: `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
                            orderNumber: orderNumber,
                            items: cart.items,
                            customerInfo: customerInfo,
                            totalPrice: getTotalPrice(),
                            status: 'pending',
                            createdAt: Date.now(),
                            paymentMethod: selectedPaymentMethod,
                            transactionId: result.transactionId
                        };

                        // Save order to localStorage
                        const orders = JSON.parse(localStorage.getItem('greenmarket_orders') || '[]');
                        orders.push(order);
                        localStorage.setItem('greenmarket_orders', JSON.stringify(orders));

                        // Clear cart
                        cart.items = [];
                        saveCart();
                        updateCartUI();

                        // Close payment modal
                        closePaymentModal();

                        // Show success modal
                        showSuccessModal(orderNumber);
                    } else {
                        // Close payment modal
                        closePaymentModal();

                        // Show error modal
                        showErrorModal(result.message);
                    }
                } catch (error) {
                    console.error('Payment error:', error);
                    closePaymentModal();
                    showErrorModal('To\'lovni amalga oshirishda xatolik yuz berdi');
                } finally {
                    // Reset button state
                    paymentBtn.disabled = false;
                    paymentBtnText.textContent = 'To\'lovni amalga oshirish';
                    paymentLoader.classList.add('hidden');
                }
            });

            // Generate order number
            const generateOrderNumber = () => {
                const timestamp = Date.now();
                const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
                return `GM${timestamp}${random}`;
            };

            // Show success modal
            const showSuccessModal = (orderNumber) => {
                const successModal = document.getElementById('success-modal');
                document.getElementById('success-order-number').textContent = orderNumber;
                successModal.classList.remove('hidden');
                successModal.classList.add('flex');

                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus close button
                setTimeout(() => {
                    document.getElementById('close-success-btn').focus();
                }, 100);
            };

            // Close success modal
            const closeSuccessModal = () => {
                const successModal = document.getElementById('success-modal');
                successModal.classList.add('hidden');
                successModal.classList.remove('flex');

                if (isMobile()) {
                    window.unlockScroll();
                }
            };

            // Show error modal
            const showErrorModal = (message) => {
                const errorModal = document.getElementById('error-modal');
                document.getElementById('error-message').textContent = message;
                errorModal.classList.remove('hidden');
                errorModal.classList.add('flex');

                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus retry button
                setTimeout(() => {
                    document.getElementById('retry-payment-btn').focus();
                }, 100);
            };

            // Close error modal
            const closeErrorModal = () => {
                const errorModal = document.getElementById('error-modal');
                errorModal.classList.add('hidden');
                errorModal.classList.remove('flex');

                if (isMobile()) {
                    window.unlockScroll();
                }
            };

            // Event listeners for payment modal
            document.getElementById('close-payment-btn').addEventListener('click', closePaymentModal);
            document.getElementById('payment-modal').addEventListener('click', (e) => {
                if (e.target.id === 'payment-modal') {
                    closePaymentModal();
                }
            });

            // Keyboard navigation for payment modal
            document.getElementById('payment-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closePaymentModal();
                }

                // Trap focus within modal
                if (e.key === 'Tab') {
                    const modal = document.getElementById('payment-modal');
                    const focusableElements = modal.querySelectorAll(
                        'button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];

                    if (e.shiftKey && document.activeElement === firstElement) {
                        e.preventDefault();
                        lastElement.focus();
                    } else if (!e.shiftKey && document.activeElement === lastElement) {
                        e.preventDefault();
                        firstElement.focus();
                    }
                }
            });

            // Event listeners for success modal
            document.getElementById('close-success-btn').addEventListener('click', closeSuccessModal);
            document.getElementById('success-modal').addEventListener('click', (e) => {
                if (e.target.id === 'success-modal') {
                    closeSuccessModal();
                }
            });

            // Keyboard navigation for success modal
            document.getElementById('success-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeSuccessModal();
                }
            });

            // Event listeners for error modal
            document.getElementById('close-error-btn').addEventListener('click', closeErrorModal);
            document.getElementById('retry-payment-btn').addEventListener('click', () => {
                closeErrorModal();
                openPaymentModal();
            });
            document.getElementById('error-modal').addEventListener('click', (e) => {
                if (e.target.id === 'error-modal') {
                    closeErrorModal();
                }
            });

            // Keyboard navigation for error modal
            document.getElementById('error-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeErrorModal();
                }
            });

            // ==================== ORDER HISTORY FUNCTIONALITY ====================

            // Load and display orders
            const loadOrders = () => {
                try {
                    const orders = JSON.parse(localStorage.getItem('greenmarket_orders') || '[]');
                    renderOrdersList(orders);
                } catch (e) {
                    console.error('Buyurtmalarni yuklashda xato:', e);
                    renderOrdersList([]);
                }
            };

            // Render orders list
            const renderOrdersList = (orders) => {
                const ordersListContainer = document.getElementById('orders-list-container');
                const noOrdersMessage = document.getElementById('no-orders-message');

                if (orders.length === 0) {
                    noOrdersMessage.classList.remove('hidden');
                    ordersListContainer.innerHTML = '';
                } else {
                    noOrdersMessage.classList.add('hidden');

                    // Sort orders by date (newest first)
                    const sortedOrders = orders.sort((a, b) => b.createdAt - a.createdAt);

                    ordersListContainer.innerHTML = sortedOrders.map(order => {
                        const date = new Date(order.createdAt);
                        const formattedDate = date.toLocaleDateString('uz-UZ', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit'
                        });

                        const statusInfo = getOrderStatusInfo(order.status);

                        return `
                            <div class="stat-card p-6 rounded-xl border border-slate-200 cursor-pointer hover:border-green-500 hover:shadow-lg transition-all"
                                data-order-id="${order.orderId}"
                                onclick="window.showOrderDetails('${order.orderId}')">
                                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                                    <div class="flex-1">
                                        <div class="flex items-center gap-3 mb-2">
                                            <span class="text-2xl">${statusInfo.icon}</span>
                                            <div>
                                                <h3 class="font-semibold text-lg text-slate-800">Buyurtma #${order.orderNumber}</h3>
                                                <p class="text-sm text-slate-500">${formattedDate}</p>
                                            </div>
                                        </div>
                                        <div class="flex flex-wrap gap-2 mt-3">
                                            <span class="px-3 py-1 rounded-full text-xs font-semibold ${statusInfo.className}">
                                                ${statusInfo.text}
                                            </span>
                                            <span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-xs font-semibold">
                                                ${order.items.length} ta mahsulot
                                            </span>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-2xl font-bold text-green-700">${formatPrice(order.totalPrice)}</p>
                                        <p class="text-sm text-slate-500 mt-1">Tafsilotlarni ko'rish ‚Üí</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
                }
            };

            // Get order status info
            const getOrderStatusInfo = (status) => {
                const statusMap = {
                    'pending': {
                        text: 'Kutilmoqda',
                        icon: '‚è≥',
                        className: 'bg-yellow-100 text-yellow-700'
                    },
                    'confirmed': {
                        text: 'Tasdiqlandi',
                        icon: '‚úÖ',
                        className: 'bg-blue-100 text-blue-700'
                    },
                    'delivered': {
                        text: 'Yetkazib berildi',
                        icon: 'üéâ',
                        className: 'bg-green-100 text-green-700'
                    },
                    'cancelled': {
                        text: 'Bekor qilindi',
                        icon: '‚ùå',
                        className: 'bg-red-100 text-red-700'
                    }
                };

                return statusMap[status] || statusMap['pending'];
            };

            // Show order details modal
            window.showOrderDetails = (orderId) => {
                try {
                    const orders = JSON.parse(localStorage.getItem('greenmarket_orders') || '[]');
                    const order = orders.find(o => o.orderId === orderId);

                    if (!order) {
                        alert('Buyurtma topilmadi');
                        return;
                    }

                    renderOrderDetails(order);
                    openOrderDetailsModal();
                } catch (e) {
                    console.error('Buyurtma tafsilotlarini yuklashda xato:', e);
                    alert('Buyurtma tafsilotlarini yuklashda xato yuz berdi');
                }
            };

            // Render order details
            const renderOrderDetails = (order) => {
                const date = new Date(order.createdAt);
                const formattedDate = date.toLocaleDateString('uz-UZ', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });

                const statusInfo = getOrderStatusInfo(order.status);

                // Set order number, date, and status
                document.getElementById('order-detail-number').textContent = order.orderNumber;
                document.getElementById('order-detail-date').textContent = formattedDate;

                const statusElement = document.getElementById('order-detail-status');
                statusElement.textContent = statusInfo.text;
                statusElement.className = `px-3 py-1 rounded-full text-xs font-semibold ${statusInfo.className}`;

                // Set customer info
                document.getElementById('order-detail-customer-name').textContent = order.customerInfo.name;
                document.getElementById('order-detail-customer-phone').textContent = order.customerInfo.phone;
                document.getElementById('order-detail-customer-email').textContent = order.customerInfo.email;
                document.getElementById('order-detail-customer-address').textContent = order.customerInfo.address;

                // Render products
                const productsContainer = document.getElementById('order-detail-products');
                productsContainer.innerHTML = order.items.map(item => {
                    const product = products.find(p => p.id === item.productId);
                    if (!product) return '';

                    return `
                        <div class="flex items-center gap-4 p-3 bg-slate-50 rounded-lg">
                            <div class="text-3xl">${product.icon}</div>
                            <div class="flex-1">
                                <h4 class="font-semibold text-slate-800">${product.name}</h4>
                                <p class="text-sm text-slate-500">${formatPrice(product.price)} √ó ${item.quantity}</p>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-slate-800">${formatPrice(product.price * item.quantity)}</p>
                            </div>
                        </div>
                    `;
                }).join('');

                // Set total price
                document.getElementById('order-detail-total').textContent = formatPrice(order.totalPrice);

                // Show QR code and certificate for delivered orders
                const qrCertificateSection = document.getElementById('order-detail-qr-certificate');
                if (order.status === 'delivered') {
                    qrCertificateSection.classList.remove('hidden');

                    // Generate QR code (simulated with emoji)
                    const qrCodeContainer = document.getElementById('order-detail-qr-code');
                    qrCodeContainer.innerHTML = generateQRCode(order.orderNumber);

                    // Generate certificate
                    const certificateContainer = document.getElementById('order-detail-certificate');
                    certificateContainer.innerHTML = generateCertificate(order);
                } else {
                    qrCertificateSection.classList.add('hidden');
                }
            };

            // Generate QR code (simulated)
            const generateQRCode = (orderNumber) => {
                // In a real app, this would use a QR code library
                // For now, we'll use a placeholder
                return `
                    <div class="bg-white p-4 inline-block">
                        <div class="grid grid-cols-8 gap-1">
                            ${Array(64).fill(0).map(() =>
                    Math.random() > 0.5 ? '<div class="w-2 h-2 bg-black"></div>' : '<div class="w-2 h-2 bg-white"></div>'
                ).join('')}
                        </div>
                    </div>
                `;
            };

            // Generate certificate
            const generateCertificate = (order) => {
                const totalTrees = order.items.reduce((sum, item) => sum + item.quantity, 0);
                const co2Absorption = totalTrees * 15; // 15 kg CO2 per tree per year

                return `
                    <p class="mb-3">
                        <strong>${order.customerInfo.name}</strong> tabiatni muhofaza qilishda faol ishtirok etdi!
                    </p>
                    <p class="mb-2">
                        Siz <strong>${totalTrees} ta daraxt</strong> ekdingiz va yiliga taxminan 
                        <strong>${co2Absorption} kg CO‚ÇÇ</strong> yutishga hissa qo'shdingiz.
                    </p>
                    <p class="text-xs text-slate-500 mt-4">
                        Sertifikat raqami: ${order.orderNumber}
                    </p>
                `;
            };

            // Open order details modal
            const openOrderDetailsModal = () => {
                lastFocusedElement = document.activeElement;
                const modal = document.getElementById('order-details-modal');
                modal.classList.remove('hidden');
                modal.classList.add('flex');

                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus close button
                setTimeout(() => {
                    document.getElementById('close-order-details-btn').focus();
                }, 100);
            };

            // Close order details modal
            const closeOrderDetailsModal = () => {
                const modal = document.getElementById('order-details-modal');
                modal.classList.add('hidden');
                modal.classList.remove('flex');

                if (isMobile()) {
                    window.unlockScroll();
                }

                // Return focus
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            // Event listeners for order details modal
            document.getElementById('close-order-details-btn').addEventListener('click', closeOrderDetailsModal);
            document.getElementById('order-details-modal').addEventListener('click', (e) => {
                if (e.target.id === 'order-details-modal') {
                    closeOrderDetailsModal();
                }
            });

            // Keyboard navigation for order details modal
            document.getElementById('order-details-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeOrderDetailsModal();
                }
            });

            // Load orders when page loads
            loadOrders();

            // Reload orders when navigating to orders section
            const ordersSection = document.getElementById('orders');
            if (ordersSection) {
                const ordersObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            loadOrders();
                        }
                    });
                }, { threshold: 0.1 });

                ordersObserver.observe(ordersSection);
            }

            // ==================== ADMIN PANEL FUNCTIONALITY ====================

            // Admin state
            let adminProducts = [];
            let editingProductId = null;

            // Load admin products
            const loadAdminProducts = () => {
                try {
                    const savedProducts = localStorage.getItem('greenmarket_products');
                    if (savedProducts) {
                        adminProducts = JSON.parse(savedProducts);
                    } else {
                        // Initialize with default products
                        adminProducts = products.map(p => ({ ...p }));
                        saveAdminProducts();
                    }
                } catch (error) {
                    console.error('Mahsulotlarni yuklashda xato:', error);
                    adminProducts = products.map(p => ({ ...p }));
                }
                renderAdminProducts();
            };

            // Save admin products
            const saveAdminProducts = () => {
                try {
                    localStorage.setItem('greenmarket_products', JSON.stringify(adminProducts));
                    // Update main products array
                    products.length = 0;
                    products.push(...adminProducts);
                    // Re-render catalog
                    renderProducts(products);
                } catch (error) {
                    console.error('Mahsulotlarni saqlashda xato:', error);
                    alert('Mahsulotlarni saqlashda xato yuz berdi');
                }
            };

            // Render admin products list
            const renderAdminProducts = () => {
                const container = document.getElementById('admin-products-list');

                if (adminProducts.length === 0) {
                    container.innerHTML = `
                        <div class="text-center py-12">
                            <div class="text-6xl mb-4">üì¶</div>
                            <p class="text-xl text-slate-600 font-semibold">Mahsulotlar yo'q</p>
                            <p class="text-sm text-slate-500 mt-2">Yangi mahsulot qo'shishni boshlang</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = adminProducts.map(product => `
                    <div class="bg-white p-6 rounded-xl border border-slate-200 flex items-center gap-6">
                        <div class="text-5xl">${product.icon}</div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="text-xl font-semibold text-slate-800">${product.name}</h3>
                                <span class="px-3 py-1 rounded-full text-xs font-semibold ${product.inStock ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
                                    ${product.inStock ? 'Omborda mavjud' : 'Tugagan'}
                                </span>
                            </div>
                            <p class="text-sm text-slate-500 mb-2">${product.description}</p>
                            <div class="flex items-center gap-4 text-sm">
                                <span class="font-semibold text-green-700">${formatPrice(product.price)}</span>
                                <span class="text-slate-500">Tur: ${product.type}</span>
                                <span class="text-slate-500">CO‚ÇÇ: ${product.co2Absorption} kg/yil</span>
                            </div>
                        </div>
                        <div class="flex flex-col gap-2">
                            <button class="admin-toggle-stock-btn px-4 py-2 rounded-lg font-semibold text-sm transition-colors ${product.inStock ? 'bg-yellow-100 text-yellow-700 hover:bg-yellow-200' : 'bg-green-100 text-green-700 hover:bg-green-200'}"
                                data-product-id="${product.id}">
                                ${product.inStock ? '‚ùå Tugagan deb belgilash' : '‚úÖ Mavjud deb belgilash'}
                            </button>
                            <button class="admin-edit-btn px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-semibold text-sm transition-colors"
                                data-product-id="${product.id}">
                                ‚úèÔ∏è Tahrirlash
                            </button>
                            <button class="admin-delete-btn px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-semibold text-sm transition-colors"
                                data-product-id="${product.id}">
                                üóëÔ∏è O'chirish
                            </button>
                        </div>
                    </div>
                `).join('');

                // Add event listeners
                document.querySelectorAll('.admin-toggle-stock-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const productId = e.target.getAttribute('data-product-id');
                        toggleProductStock(productId);
                    });
                });

                document.querySelectorAll('.admin-edit-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const productId = e.target.getAttribute('data-product-id');
                        openEditProductModal(productId);
                    });
                });

                document.querySelectorAll('.admin-delete-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const productId = e.target.getAttribute('data-product-id');
                        deleteProduct(productId);
                    });
                });
            };

            // Toggle product stock status
            const toggleProductStock = (productId) => {
                const product = adminProducts.find(p => p.id === productId);
                if (product) {
                    product.inStock = !product.inStock;
                    saveAdminProducts();
                    renderAdminProducts();
                }
            };

            // Delete product
            const deleteProduct = (productId) => {
                if (confirm('Mahsulotni o\'chirishni tasdiqlaysizmi?')) {
                    adminProducts = adminProducts.filter(p => p.id !== productId);
                    saveAdminProducts();
                    renderAdminProducts();
                }
            };

            // Open add product modal
            const openAddProductModal = () => {
                lastFocusedElement = document.activeElement;
                editingProductId = null;
                document.getElementById('admin-modal-title').textContent = 'Yangi mahsulot qo\'shish';
                document.getElementById('admin-submit-text').textContent = 'Saqlash';
                document.getElementById('admin-product-form').reset();
                document.getElementById('admin-product-id').disabled = false;

                // Clear all errors
                ['id', 'name', 'price', 'description', 'icon', 'type', 'co2', 'image'].forEach(field => {
                    const errorElement = document.getElementById(`admin-product-${field}-error`);
                    if (errorElement) {
                        errorElement.classList.add('hidden');
                    }
                });

                const modal = document.getElementById('admin-product-modal');
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus first input
                setTimeout(() => {
                    document.getElementById('admin-product-id').focus();
                }, 100);
            };

            // Open edit product modal
            const openEditProductModal = (productId) => {
                const product = adminProducts.find(p => p.id === productId);
                if (!product) return;

                lastFocusedElement = document.activeElement;
                editingProductId = productId;
                document.getElementById('admin-modal-title').textContent = 'Mahsulotni tahrirlash';
                document.getElementById('admin-submit-text').textContent = 'Yangilash';

                // Fill form with product data
                document.getElementById('admin-product-id').value = product.id;
                document.getElementById('admin-product-id').disabled = true; // Can't change ID
                document.getElementById('admin-product-name').value = product.name;
                document.getElementById('admin-product-price').value = product.price;
                document.getElementById('admin-product-description').value = product.description;
                document.getElementById('admin-product-icon').value = product.icon;
                document.getElementById('admin-product-type').value = product.type;
                document.getElementById('admin-product-co2').value = product.co2Absorption;
                document.getElementById('admin-product-image').value = product.image || '';
                document.getElementById('admin-product-instock').checked = product.inStock;

                const modal = document.getElementById('admin-product-modal');
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                if (isMobile()) {
                    window.lockScroll();
                }

                // Focus first editable input
                setTimeout(() => {
                    document.getElementById('admin-product-name').focus();
                }, 100);
            };

            // Close admin product modal
            const closeAdminProductModal = () => {
                const modal = document.getElementById('admin-product-modal');
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                document.getElementById('admin-product-form').reset();
                editingProductId = null;
                if (isMobile()) {
                    window.unlockScroll();
                }

                // Return focus
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            // Validate admin product form
            const validateAdminProductForm = () => {
                let isValid = true;

                const id = document.getElementById('admin-product-id').value.trim();
                const name = document.getElementById('admin-product-name').value.trim();
                const price = document.getElementById('admin-product-price').value;
                const description = document.getElementById('admin-product-description').value.trim();
                const icon = document.getElementById('admin-product-icon').value.trim();
                const type = document.getElementById('admin-product-type').value;
                const co2 = document.getElementById('admin-product-co2').value;

                // Validate ID
                if (!id) {
                    document.getElementById('admin-product-id-error').textContent = 'ID kiritilishi shart';
                    document.getElementById('admin-product-id-error').classList.remove('hidden');
                    isValid = false;
                } else if (/\s/.test(id)) {
                    document.getElementById('admin-product-id-error').textContent = 'ID da bo\'sh joy bo\'lmasligi kerak';
                    document.getElementById('admin-product-id-error').classList.remove('hidden');
                    isValid = false;
                } else if (!editingProductId && adminProducts.some(p => p.id === id)) {
                    document.getElementById('admin-product-id-error').textContent = 'Bu ID bilan mahsulot allaqachon mavjud';
                    document.getElementById('admin-product-id-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-id-error').classList.add('hidden');
                }

                // Validate name
                if (!name) {
                    document.getElementById('admin-product-name-error').textContent = 'Nom kiritilishi shart';
                    document.getElementById('admin-product-name-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-name-error').classList.add('hidden');
                }

                // Validate price
                if (!price || parseFloat(price) < 0) {
                    document.getElementById('admin-product-price-error').textContent = 'Narx musbat son bo\'lishi kerak';
                    document.getElementById('admin-product-price-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-price-error').classList.add('hidden');
                }

                // Validate description
                if (!description) {
                    document.getElementById('admin-product-description-error').textContent = 'Tavsif kiritilishi shart';
                    document.getElementById('admin-product-description-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-description-error').classList.add('hidden');
                }

                // Validate icon
                if (!icon) {
                    document.getElementById('admin-product-icon-error').textContent = 'Icon kiritilishi shart';
                    document.getElementById('admin-product-icon-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-icon-error').classList.add('hidden');
                }

                // Validate type
                if (!type) {
                    document.getElementById('admin-product-type-error').textContent = 'Tur tanlanishi shart';
                    document.getElementById('admin-product-type-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-type-error').classList.add('hidden');
                }

                // Validate CO2
                if (!co2 || parseFloat(co2) < 1) {
                    document.getElementById('admin-product-co2-error').textContent = 'CO‚ÇÇ yutish musbat son bo\'lishi kerak';
                    document.getElementById('admin-product-co2-error').classList.remove('hidden');
                    isValid = false;
                } else {
                    document.getElementById('admin-product-co2-error').classList.add('hidden');
                }

                return isValid;
            };

            // Handle admin product form submission
            document.getElementById('admin-product-form').addEventListener('submit', (e) => {
                e.preventDefault();

                if (!validateAdminProductForm()) {
                    return;
                }

                const productData = {
                    id: document.getElementById('admin-product-id').value.trim(),
                    name: document.getElementById('admin-product-name').value.trim(),
                    price: parseFloat(document.getElementById('admin-product-price').value),
                    description: document.getElementById('admin-product-description').value.trim(),
                    icon: document.getElementById('admin-product-icon').value.trim(),
                    type: document.getElementById('admin-product-type').value,
                    co2Absorption: parseFloat(document.getElementById('admin-product-co2').value),
                    image: document.getElementById('admin-product-image').value.trim() || null,
                    inStock: document.getElementById('admin-product-instock').checked
                };

                if (editingProductId) {
                    // Update existing product
                    const index = adminProducts.findIndex(p => p.id === editingProductId);
                    if (index !== -1) {
                        adminProducts[index] = productData;
                    }
                } else {
                    // Add new product
                    adminProducts.push(productData);
                }

                saveAdminProducts();
                renderAdminProducts();
                closeAdminProductModal();
            });

            // Event listeners for admin panel
            document.getElementById('add-product-btn').addEventListener('click', openAddProductModal);
            document.getElementById('close-admin-product-btn').addEventListener('click', closeAdminProductModal);
            document.getElementById('admin-cancel-btn').addEventListener('click', closeAdminProductModal);

            // Close modal when clicking outside
            document.getElementById('admin-product-modal').addEventListener('click', (e) => {
                if (e.target.id === 'admin-product-modal') {
                    closeAdminProductModal();
                }
            });

            // Keyboard navigation for admin modal
            document.getElementById('admin-product-modal').addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeAdminProductModal();
                }
            });

            // Load admin products when page loads
            loadAdminProducts();

            // Reload admin products when navigating to admin section
            const adminSection = document.getElementById('admin');
            if (adminSection) {
                const adminObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            loadAdminProducts();
                        }
                    });
                }, { threshold: 0.1 });

                adminObserver.observe(adminSection);
            }

            // Update "Savatga qo'shish" button state based on stock
            const updateAddToCartButtons = () => {
                document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
                    const productId = btn.getAttribute('data-product-id');
                    const product = adminProducts.find(p => p.id === productId);

                    if (product && !product.inStock) {
                        btn.disabled = true;
                        btn.textContent = 'Tugagan';
                        btn.classList.add('opacity-50', 'cursor-not-allowed');
                        btn.classList.remove('hover:bg-green-700');
                    } else {
                        btn.disabled = false;
                        btn.textContent = 'Savatga qo\'shish';
                        btn.classList.remove('opacity-50', 'cursor-not-allowed');
                        btn.classList.add('hover:bg-green-700');
                    }
                });
            };

            // Override renderProducts to update button states
            const originalRenderProducts = renderProducts;
            renderProducts = (productsToRender) => {
                originalRenderProducts(productsToRender);
                updateAddToCartButtons();
            };

        });
    </script>

    <!-- To'liq tarjimalar -->
    <script src="full_translations.js"></script>

</body>

</html>



</body>

</html>